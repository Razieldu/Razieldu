<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Udemy Web Development Ch22 EJS | Jeremy's Blog</title><meta name="author" content="Jeremy"><meta name="copyright" content="Jeremy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Why do we need template?基礎設置 123456cd desktop mkdir todolist-v1cd todolist-v1touch index.html app.js npm init npm install express body-parser  模板 1234567891011const express &#x3D; require(&quot;express&amp;quo">
<meta property="og:type" content="article">
<meta property="og:title" content="Udemy Web Development Ch22 EJS">
<meta property="og:url" content="https://razieldu.github.io/2022/03/28/Udemy-WebDevelopment-ch22-EJS/index.html">
<meta property="og:site_name" content="Jeremy&#39;s Blog">
<meta property="og:description" content="Why do we need template?基礎設置 123456cd desktop mkdir todolist-v1cd todolist-v1touch index.html app.js npm init npm install express body-parser  模板 1234567891011const express &#x3D; require(&quot;express&amp;quo">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg">
<meta property="article:published_time" content="2022-03-28T06:41:36.000Z">
<meta property="article:modified_time" content="2022-04-28T04:50:47.133Z">
<meta property="article:author" content="Jeremy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://razieldu.github.io/2022/03/28/Udemy-WebDevelopment-ch22-EJS/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Udemy Web Development Ch22 EJS',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-28 12:50:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">86</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jeremy's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Udemy Web Development Ch22 EJS</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-03-28T06:41:36.000Z" title="Created 2022-03-28 14:41:36">2022-03-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-04-28T04:50:47.133Z" title="Updated 2022-04-28 12:50:47">2022-04-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web-development/">Web development</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Udemy Web Development Ch22 EJS"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="Why-do-we-need-template"><a href="#Why-do-we-need-template" class="headerlink" title="Why do we need template?"></a>Why do we need template?</h3><p>基礎設置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd desktop </span><br><span class="line">mkdir todolist-v1</span><br><span class="line">cd todolist-v1</span><br><span class="line">touch index.html app.js </span><br><span class="line">npm init </span><br><span class="line">npm install express body-parser</span><br></pre></td></tr></table></figure>

<p>模板</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">res.send(&quot;hello&quot;)  </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(3000,function()&#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="getDay"><a href="#getDay" class="headerlink" title="getDay()"></a>getDay()</h3><p>Return value<br>An integer number, between 0 and 6, corresponding to the day of the week for the given date, according to local time: 0 for Sunday, 1 for Monday, 2 for Tuesday, and so on.</p>
<h3 id="取得本地的日期與時間"><a href="#取得本地的日期與時間" class="headerlink" title="取得本地的日期與時間"></a>取得本地的日期與時間</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var date = new Date().toLocaleString();</span><br><span class="line">console.log(date);  // &quot;2019/10/11 下午3:25:00&quot;</span><br></pre></td></tr></table></figure>


<h3 id="取得瀏覽者登入時的星期-並依照星期發送不同的res-send"><a href="#取得瀏覽者登入時的星期-並依照星期發送不同的res-send" class="headerlink" title="取得瀏覽者登入時的星期,並依照星期發送不同的res.send"></a>取得瀏覽者登入時的星期,並依照星期發送不同的res.send</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line"></span><br><span class="line">var today= new Date();</span><br><span class="line">console.log(today)</span><br><span class="line">if(today.getDay()===6 || today.getDay()===0)&#123;</span><br><span class="line">   res.send(&quot;&lt;h1&gt;Yay!!! Today is weekend&lt;/h1&gt;&quot;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">  res.write(&quot;&lt;p&gt;It is not the weekend!!!&lt;/p&gt;&quot;)</span><br><span class="line">  res.write(&quot;&lt;h1&gt;Oh!!! I have to work!!!&lt;/h1&gt;&quot;)</span><br><span class="line">  res.send();</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.listen(3000,function()&#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F;res.send會被視為是程式的終止,使用res.write則可以傳送多行訊息</p>
<h3 id="We-Need-to-Create-a-HTML-Template"><a href="#We-Need-to-Create-a-HTML-Template" class="headerlink" title="We Need to Create a HTML Template"></a>We Need to Create a HTML Template</h3><p>Now the problem that you might realize is that if we wanted to send over a different response depending on the logic in our server ,then we would have to write many different HTML pages(以這邊為例,一星期有七天,就會需要七個HTML pages)</p>
<h3 id="Create-your-first-EJS-Templates"><a href="#Create-your-first-EJS-Templates" class="headerlink" title="Create your first EJS Templates"></a>Create your first EJS Templates</h3><p>EJS:Enbedded Javascript Templating<br><a target="_blank" rel="noopener" href="https://ejs.co/">https://ejs.co/</a></p>
<p>Using EJS with Express<br><a target="_blank" rel="noopener" href="https://github.com/mde/ejs/wiki/Using-EJS-with-Express">https://github.com/mde/ejs/wiki/Using-EJS-with-Express</a></p>
<ol>
<li><p>安裝EJS</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install ejs </span><br></pre></td></tr></table></figure>
</li>
<li><p>建立一個views 資料夾</p>
</li>
</ol>
<p>In Express v4, a very basic setup using EJS would look like the following. (This assumes a <strong>views</strong> directory containing an <strong>index.ejs</strong> page.)(安裝說明)</p>
<p>This is where the view engine by default will go and look for the files that you are trying to render.</p>
<ol start="3">
<li>在views資料夾建立一個list(與本專案相關的名稱).ejs</li>
</ol>
<p>Any thing that is valid HTML will be valid for an EJS file</p>
<p>list.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;It is a weekday,why are you not working&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>4. </p>
<h3 id="EJS-marker-lt-x3D-EJS-gt"><a href="#EJS-marker-lt-x3D-EJS-gt" class="headerlink" title="EJS marker:&lt;%&#x3D; EJS %&gt;"></a>EJS marker:&lt;%&#x3D; EJS %&gt;</h3><p>list.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;It is a &lt;%=kindofDay%&gt; &lt;/h1&gt; //加入EJS marker</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.set(&quot;view engine&quot;,&quot;ejs&quot;);</span><br><span class="line">//This line of code tells our app which is generated using Express to use EJS as its view engine</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line"></span><br><span class="line">var today= new Date();</span><br><span class="line">var currentDay=today.getDay();</span><br><span class="line">var day=&quot;&quot;;//隨著if statement 的結果不同而不同</span><br><span class="line">if(currentDay===6 || currentDay===0)&#123;</span><br><span class="line">  day=&quot;Weekend&quot;  </span><br><span class="line">&#125;else&#123;</span><br><span class="line">  day=&quot;Weekday&quot;</span><br><span class="line">&#125;</span><br><span class="line">res.render(&quot;list&quot;,&#123;kindofDay:day&#125;); </span><br><span class="line">   // render a file called list and we are going to pass that file a variable called kindofDay,and the value is going to equal to whatever is the value of our current variable which is day</span><br><span class="line">   在views資料夾找到檔名為list的檔案進行render,並傳遞變數名稱為:kindofDay的值為變數day</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(3000,function()&#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="day的值隨著日期變動"><a href="#day的值隨著日期變動" class="headerlink" title="day的值隨著日期變動"></a>day的值隨著日期變動</h3><h3 id="我的作法"><a href="#我的作法" class="headerlink" title="我的作法"></a>我的作法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line"></span><br><span class="line">  var today = new Date();</span><br><span class="line">  var currentDay = today.getDay();</span><br><span class="line">  var dayDay=[&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;]</span><br><span class="line">  var day =dayDay[currentDay];</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="使用switch-statement"><a href="#使用switch-statement" class="headerlink" title="使用switch statement"></a>使用switch statement</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line"></span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line"></span><br><span class="line">  var today = new Date();</span><br><span class="line">  var currentDay = today.getDay();</span><br><span class="line"></span><br><span class="line">  var day = &quot;&quot;;</span><br><span class="line">  switch(currentDay)&#123;</span><br><span class="line">  case 0:</span><br><span class="line">     day=&quot;Sunday&quot;;</span><br><span class="line">     break;</span><br><span class="line">  case 1:</span><br><span class="line">     day=&quot;Monday&quot;;</span><br><span class="line">     break;</span><br><span class="line">  case 2:</span><br><span class="line">     day=&quot;Tuesday&quot;</span><br><span class="line">     break;</span><br><span class="line">  case 3:</span><br><span class="line">    day=&quot;Wednesday&quot;;</span><br><span class="line">     break;</span><br><span class="line">  case 4:</span><br><span class="line">     day=&quot;Thursday&quot;;</span><br><span class="line">     break;</span><br><span class="line">  case 5:</span><br><span class="line">    day= &quot;Friday&quot;;</span><br><span class="line">     break;</span><br><span class="line">  case 6:</span><br><span class="line">    day= &quot;Saturday&quot;;</span><br><span class="line">     break;</span><br><span class="line">  default:</span><br><span class="line">     console.log(&quot;Error:current day is equal to:&quot;+currentDay);</span><br><span class="line">  &#125;</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);   </span><br></pre></td></tr></table></figure>

<h3 id="Running-Code-Inside-the-EJS-Template"><a href="#Running-Code-Inside-the-EJS-Template" class="headerlink" title="Running Code Inside the EJS Template"></a>Running Code Inside the EJS Template</h3><p>list.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;% if(kindofDay===&quot;Saturday&quot; || kindofDay===&quot;Sunday&quot;)&#123;%&gt;</span><br><span class="line">   &lt;h1 style=&quot;color:purple&quot;&gt;&lt;%=kindofDay%&gt;ToDo List!&lt;/h1&gt;</span><br><span class="line"> &lt;%&#125;else&#123;%&gt;</span><br><span class="line">  &lt;h1 style=&quot;color:blue&quot;&gt;&lt;%=kindofDay%&gt;ToDo List!&lt;/h1&gt;</span><br><span class="line"> &lt;%&#125;%&gt;</span><br><span class="line"></span><br><span class="line">//&lt;% 把不是HTML的部分都夾起來(javascript) %&gt;,以&quot;行&quot;為單位,一行一組&lt;% %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;% &#x27;Scriptlet&#x27; tag, for control-flow, no output</span><br><span class="line">&lt;%_ ‘Whitespace Slurping’ Scriptlet tag, strips all whitespace before it</span><br><span class="line">&lt;%= Outputs the value into the template (HTML escaped)</span><br><span class="line">&lt;%- Outputs the unescaped value into the template</span><br><span class="line">&lt;%# Comment tag, no execution, no output</span><br><span class="line">&lt;%% Outputs a literal &#x27;&lt;%&#x27;</span><br><span class="line">%&gt; Plain ending tag</span><br><span class="line">-%&gt; Trim-mode (&#x27;newline slurp&#x27;) tag, trims following newline</span><br><span class="line">_%&gt; ‘Whitespace Slurping’ ending tag, removes all whitespace after it</span><br></pre></td></tr></table></figure>
<p>The reason why the scriplet tag only lets you use control flow Javascript is because in most cases you want to keep your logic inside your server,and it is only the cases where you are really changing something that is difficult to do inside the server or it will be a lot quicker to do inside the template do you actually use the script tag</p>
<h3 id="Passing-Data-from-Your-Web-Page-To-Your-Server"><a href="#Passing-Data-from-Your-Web-Page-To-Your-Server" class="headerlink" title="Passing Data from Your Web Page To Your Server"></a>Passing Data from Your Web Page To Your Server</h3><p>格式化javescript date</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var options = &#123; weekday: &#x27;long&#x27;, year: &#x27;numeric&#x27;, month: &#x27;long&#x27;, day: &#x27;numeric&#x27; &#125;;</span><br><span class="line">var today  = new Date();</span><br><span class="line"></span><br><span class="line">console.log(today.toLocaleDateString(&quot;en-US&quot;)); // 9/17/2016</span><br><span class="line">console.log(today.toLocaleDateString(&quot;en-US&quot;, options)); // Saturday, September 17, 2016</span><br><span class="line">console.log(today.toLocaleDateString(&quot;hi-IN&quot;, options)); // शनिवार, 17 सितंबर 2016</span><br></pre></td></tr></table></figure>
<p>Options key examples:<br>day:<br>The representation of the day.<br>Possible values are “numeric”, “2-digit”.<br>weekday:<br>The representation of the weekday.<br>Possible values are “narrow”, “short”, “long”.<br>year:<br>The representation of the year.<br>Possible values are “numeric”, “2-digit”.<br>month:<br>The representation of the month.<br>Possible values are “numeric”, “2-digit”, “narrow”, “short”, “long”.<br>hour:<br>The representation of the hour.<br>Possible values are “numeric”, “2-digit”.<br>minute: The representation of the minute.<br>Possible values are “numeric”, “2-digit”.<br>second:<br>The representation of the second.<br>Possible values are “numeric”, 2-digit”.<br>All these keys are optional. You can change the number of options values based on your requirements, and this will also reflect the presence of each date time term.</p>
<p>Note: If you would only like to configure the content options, but still use the current locale, passing null for the first parameter will cause an error. Use undefined instead.</p>
<p>For different languages:<br>“en-US”: For English<br>“hi-IN”: For Hindi<br>“ja-JP”: For Japanese<br>You can use more language options.</p>
<p><a target="_blank" rel="noopener" href="http://www.lingoes.net/en/translator/langcode.htm">http://www.lingoes.net/en/translator/langcode.htm</a>  ISO Language Code Table </p>
<h3 id="程式碼修正"><a href="#程式碼修正" class="headerlink" title="程式碼修正"></a>程式碼修正</h3><p>app.js(格式化時間,加入bodyparser.urlencoded,app.post)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extended:true&#125;));//設置在const app之下</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  var today = new Date();</span><br><span class="line">  var options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  var day = (today.toLocaleDateString(&quot;zh-TW&quot;,options)) </span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">    console.log(req.body.newItem)</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>運作:Our form is going to make a post request to the home route and it is going to post the value of our text input which has a name of newItem,now when that request is received,it gets caught inside this app.post section.And we tap into the request,looking through the body of the request and we search for the value of the something called newItem.So,this has to match up with the name of our input in order to retrive the value of that text input  </p>
<p>list.ejs(form建構)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;h1&gt;&lt;%=kindofDay%&gt; ToDo List!&lt;/h1&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;Buy food&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Cook food&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Eat food&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;form class=&quot;&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;newItem&quot;&gt;</span><br><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;Add&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="下一步驟"><a href="#下一步驟" class="headerlink" title="下一步驟"></a>下一步驟</h3><p>We have now passed the data from our page into our server but now we need to pass the data back into our web page namely into a new list item inside the ul,so we can start doing that by creating a new list item and its content is going to be a EJS tag that is going to render a new list item,so now we just have to pass in the new list ltem </p>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented:true&#125;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  var today = new Date();</span><br><span class="line">  var options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  var day = (today.toLocaleDateString(&quot;zh-TW&quot;,options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line"> var item =req.body.newItem</span><br><span class="line"> res.render(&quot;list&quot;,&#123;newListItem:item&#125;) //再render一次</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>list.ejs(增加一個EJS tag newListItem)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;h1&gt;&lt;%=kindofDay%&gt; ToDo List!&lt;/h1&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;Buy food&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Cook food&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;Eat food&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;&lt;%=newListItem%&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;form class=&quot;&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;newItem&quot;&gt;</span><br><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;Add&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="錯誤"><a href="#錯誤" class="headerlink" title="錯誤"></a>錯誤</h3><p>此時出現錯誤:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ReferenceError: C:\Users\ASUS VIVO BOOK\desktop\todolist-v1\views\list.ejs:13</span><br><span class="line">newListItem is not defined</span><br></pre></td></tr></table></figure>

<p>原因:when we are trying to render list we are only passing in the value for this variable:kindOfDay and we are passing in anything for newListItem,so when it is trying to render a list at this point then it does not actually have a value to put into this new list item EJS tag,and that is why our app crashes.</p>
<p>So,we now know that every single time you try to render list.ejs, we have to provide both variables that we want to render</p>
<h3 id="修正"><a href="#修正" class="headerlink" title="修正"></a>修正</h3><p>解決:<br>so,to fix this then we would probably want to add our newListItem over to this res.render and we are going to call it exactly the same as what we have in our template page</p>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented:true&#125;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  var today = new Date();</span><br><span class="line">  var options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  var day = (today.toLocaleDateString(&quot;zh-TW&quot;,options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day,newListItem:item&#125;); //一次render兩個變數</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">res.redirect(&quot;/&quot;)//重新導向homepage</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>運作:what this does is when a post request is triggered on our home route,we save the value of the newItem in that text box to a variable called item and it will redirect to the home route which then triggers the app.get for our home route,and it will res.render the list template passing in both the kindOfDay as well as the newListItem</p>
<h3 id="錯誤-1"><a href="#錯誤-1" class="headerlink" title="錯誤"></a>錯誤</h3><p>原因:ReferenceError: item is not defined,app.js:18:50(res.render(“list”, {kindofDay: day,newListItem:item}))</p>
<p>說明:on this point it can not access this variable called item because item was created inside the post route,in fact item only exists when we make a post request to our server,so once the users type something into that text box do we actually create this variable called item,we try to pass it in here when it does not exist,that is why we get the error</p>
<p>This problem is related to something called <strong>scope</strong> in programming </p>
<h3 id="解決"><a href="#解決" class="headerlink" title="解決"></a>解決</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">var item=&quot;&quot;; //設置一個空的string </span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented:true&#125;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  var today = new Date();</span><br><span class="line">  var options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  var day = (today.toLocaleDateString(&quot;zh-TW&quot;,options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day,newListItem:item&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">  item=req.body.newItem; //每一次收到post.request的時候,使用user的input取代item</span><br><span class="line">res.redirect(&quot;/&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="錯誤-2"><a href="#錯誤-2" class="headerlink" title="錯誤"></a>錯誤</h3><p>每一次的post request都會刷新先前儲存的值,導致前一個新加入的newListItem:item被後一個取代</p>
<h3 id="解決-1"><a href="#解決-1" class="headerlink" title="解決"></a>解決</h3><p>What we need is to store our items in a array</p>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">var items=[]; //創建一個空的array</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented:true&#125;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  var today = new Date();</span><br><span class="line">  var options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  var day = (today.toLocaleDateString(&quot;zh-TW&quot;,options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day,newListItem:items&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">  var item=req.body.newItem; //每一次收到post.request儲存在item</span><br><span class="line">  items.push(item);//把item儲存進去items array</span><br><span class="line">res.redirect(&quot;/&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="錯誤-3"><a href="#錯誤-3" class="headerlink" title="錯誤"></a>錯誤</h3><p>只是把每次收到的item(req.body.newItem)增加到items的array裡面(呈現在同一行),但是並沒有增加新的一行list,跟我們目標不一樣</p>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>Have a look inside our list.ejs,all it is doing is just planting whatever it is that we got sent over inside this list item element, so if list item happens to be an array then all of that just gets put in here and rendered as a single list item which is not what we want,we want them to be all separate list items and we want to create new list for every single new item we add to our list</p>
<h3 id="解決-2"><a href="#解決-2" class="headerlink" title="解決"></a>解決</h3><p>What we would need to happen is when we pass over an array or a collection like this,we want to loop through it and create a new li for each item inside the array,so we need to <strong>create a For Loop</strong></p>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">var items=[&quot;Buy food&quot;,&quot;Cook food&quot;,&quot;Eat food&quot;];//讓for loop 前三個元素固定</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented:true&#125;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  var today = new Date();</span><br><span class="line">  var options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  var day = (today.toLocaleDateString(&quot;zh-TW&quot;,options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;kindofDay: day,newListItems:items&#125;);items:儲存的array</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">  var item=req.body.newItem;</span><br><span class="line">  items.push(item);</span><br><span class="line">res.redirect(&quot;/&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>list.ejs(添加for loop)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;h1&gt;&lt;%=kindofDay%&gt; ToDo List!&lt;/h1&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;%for(var i =0;i&lt;newListItems.length;i++)&#123;%&gt; //很簡潔的寫法</span><br><span class="line">   &lt;li&gt;&lt;%=newListItems[i]%&gt;&lt;/li&gt;</span><br><span class="line">&lt;%&#125;%&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;form class=&quot;&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;newItem&quot;&gt;</span><br><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;Add&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="The-Concept-of-Scope-in-the-Context-of-javascript"><a href="#The-Concept-of-Scope-in-the-Context-of-javascript" class="headerlink" title="The Concept of Scope in the Context of javascript"></a>The Concept of Scope in the Context of javascript</h3><h3 id="Local-variables"><a href="#Local-variables" class="headerlink" title="Local variables"></a>Local variables</h3><p>The scope of x is limited to inside the curly braces of function a,the scope of local variables are local to wherer they were declared.In most cases,that is inside the curly braces of a function </p>
<p>可以執行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function a &#123;</span><br><span class="line">  var x = 2;</span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>錯誤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function a &#123;</span><br><span class="line">  var x = 2;</span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br><span class="line">console.log(x);</span><br></pre></td></tr></table></figure>

<p>錯誤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function a &#123;</span><br><span class="line">  var x = 2;</span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function b &#123;</span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Global-Variables"><a href="#Global-Variables" class="headerlink" title="Global Variables"></a>Global Variables</h3><p>正確</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var x= 2</span><br><span class="line">function a &#123;</span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br><span class="line">console.log(x);</span><br></pre></td></tr></table></figure>

<p>正確</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(true)&#123;</span><br><span class="line">  var x =2; </span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br><span class="line">console.log(x)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function test&#123;</span><br><span class="line">var x =2</span><br><span class="line">let y =3</span><br><span class="line">const z=4 //值不能被改變</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you create variables inside a function they are all <strong>local variables</strong>,they can only be used inside the function,but you create any three of these types of variables outside the function then they are all <strong>global variables</strong>,and they have global scope,they can be accessed and used everywherer inside the file  </p>
<h3 id="特殊情況-Javacript特例"><a href="#特殊情況-Javacript特例" class="headerlink" title="特殊情況(Javacript特例)"></a>特殊情況(Javacript特例)</h3><p>IF&#x2F;ELSE&#x2F;WHILE&#x2F;FOR</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var X=2;</span><br><span class="line">let y=3;</span><br><span class="line">const z=4;</span><br></pre></td></tr></table></figure>

<p>If you create a variable inside an <strong>IF</strong> or an <strong>ELSE</strong> or a <strong>FOR</strong> or a <strong>WHILE</strong>,anything that has a pair of curly braces essentially a block of code,</p>
<p>var x : is <strong>global variable</strong> and you can access this var x anywhere inside you file<br>let y : <strong>local variable</strong><br>const z : <strong>local variable</strong></p>
<p>This is true for FOR loops,WHILE loops,DO-WHILE Loops,any sort of other blocks of code that they have a pair of curly braces </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line">// Here cars[0] is &quot;Saab&quot;</span><br><span class="line">&#123;</span><br><span class="line">  const cars = [&quot;Toyota&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line">  // Here cars[0] is &quot;Toyota&quot;</span><br><span class="line">&#125;</span><br><span class="line">// Here cars[0] is &quot;Saab&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line">// Here cars[0] is &quot;Saab&quot;</span><br><span class="line">&#123;</span><br><span class="line">  var cars = [&quot;Toyota&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line">  // Here cars[0] is &quot;Toyota&quot;</span><br><span class="line">&#125;</span><br><span class="line">// Here cars[0] is &quot;Toyota&quot;</span><br></pre></td></tr></table></figure>
<p>因為var這個特殊性,盡量使用<strong>let</strong>或是const來假設變數</p>
<h3 id="Adding-CSS-Stylesheets-to-Your-Website"><a href="#Adding-CSS-Stylesheets-to-Your-Website" class="headerlink" title="Adding  CSS Stylesheets to Your Website"></a>Adding  CSS Stylesheets to Your Website</h3><p>出現無法套用CSS的錯誤:Refused to apply style from ‘<a target="_blank" rel="noopener" href="http://localhost:3000/css321/style321.css&#39;">http://localhost:3000/css321/style321.css&#39;</a> because its MIME type (‘text&#x2F;html’) is not a supported stylesheet MIME type, and strict MIME checking is enabled.</p>
<h3 id="原因-1"><a href="#原因-1" class="headerlink" title="原因"></a>原因</h3><p>The reason is because our style.css live in a folder called css which is in the root of our project,when you use Express,it does not automatically serve up all the files in your project,in fact, it <strong>only serves up the main access point</strong> which we define in our package.json as app.js and it also serves up the views folder ,and everything else,it chooses to ignore</p>
<p>package.json</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;todolist-v1&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;app.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="解決-3"><a href="#解決-3" class="headerlink" title="解決"></a>解決</h3><p>1.<br>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.use(express.static(&quot;public&quot;))</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>建立一個public資料夾,把css資料夾移入</li>
</ol>
<p>We can tell Express to serve up this public folder as a static resource</p>
<h3 id="Understanding-Templating-vs-Layout"><a href="#Understanding-Templating-vs-Layout" class="headerlink" title="Understanding Templating vs Layout"></a>Understanding Templating vs Layout</h3><p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">let items=[&quot;Buy food&quot;,&quot;Cook food&quot;,&quot;Eat food&quot;];</span><br><span class="line">let workItems=[]//新增</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented:true&#125;));</span><br><span class="line">app.use(express.static(&quot;public&quot;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  let today = new Date();</span><br><span class="line">  let options=&#123;</span><br><span class="line">    weekday:&quot;long&quot;,</span><br><span class="line">    day:&quot;numeric&quot;,</span><br><span class="line">    month:&quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  let day = (today.toLocaleDateString(&quot;zh-TW&quot;,options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;listTitle: day,newListItems:items&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">  let item=req.body.newItem;</span><br><span class="line">  items.push(item);</span><br><span class="line">res.redirect(&quot;/&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/work&quot;,function(req,res)&#123; //新增</span><br><span class="line">res.render(&quot;list&quot;,&#123;listTitle:&quot;Work List&quot;,newListItems:workItems&#125;);</span><br><span class="line">&#125;)</span><br><span class="line">app.post(&quot;/work&quot;,function(req,res)&#123; //新增</span><br><span class="line">  let item=req.body.newItem;</span><br><span class="line">  workItems.push(item);</span><br><span class="line">  res.redirect(&quot;/work&quot;)</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>list.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;css321/styles321.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; id=heading&gt;</span><br><span class="line">    &lt;h1&gt;&lt;%=listTitle%&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;%for(var i =0;i&lt;newListItems.length;i++)&#123;%&gt;</span><br><span class="line">    &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot;&gt;</span><br><span class="line">      &lt;p&gt;&lt;%=newListItems[i]%&gt;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;%&#125;%&gt;</span><br><span class="line">    &lt;form class=&quot;item&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;newItem&quot; placeholder=&quot;新事項&quot; autocomplete=&quot;off&quot;&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC22%E7%AF%80ejs%E5%B0%88%E6%A1%88%E7%A4%BA%E6%84%8F%E5%9C%961.png" alt="網頁開發第22節 ejs示意圖1.png"><br><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC22%E7%AF%80ejs%E7%A4%BA%E6%84%8F%E5%9C%962.png" alt="網頁開發第22節 ejs示意圖2.png"></p>
<h3 id="錯誤-4"><a href="#錯誤-4" class="headerlink" title="錯誤"></a>錯誤</h3><p>在localhost:3000&#x2F;work時,新增新事項的button點擊下去會跳回去localhost:3000,並且把新增的項目增加在該頁面上</p>
<h3 id="原因-2"><a href="#原因-2" class="headerlink" title="原因"></a>原因</h3><p>When I pressed that submit button,my form make a post request to the home route </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;form class=&quot;item&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>1.<br>app.post(“&#x2F;“,function(req,res){<br>  let item&#x3D;req.body.newItem;<br>  items.push(item);<br>  console.log(req.body) &#x2F;&#x2F;新增一行<br>res.redirect(“&#x2F;“);<br>});</p>
<p>1.<br>button</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;+&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>在localhost:3000&#x2F;work,點擊按鈕,添加123項目,終端機顯示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;newItem:&#x27;123&#x27;,button:&#x27;&#x27; &#125; //button為buttom的name</span><br></pre></td></tr></table></figure>

<p>2.<br>button(給予value) </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot; value=&quot;我是按鈕&quot;&gt;+&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>在localhost:3000&#x2F;work,點擊按鈕,添加123項目,終端機顯示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;newItem:&#x27;123&#x27;,button:&#x27;我是按鈕&#x27; &#125; //button為buttom的name</span><br></pre></td></tr></table></figure>

<p>3.<br>We can change the value to something dynamic using EJS</p>
<p>button修正為</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;submit&quot; name=&quot;list&quot; value=&lt;%=listTitle%&gt;+&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>在localhost:3000&#x2F;work,點擊按鈕,添加123項目,終端機顯示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;newItem:&#x27;123&#x27;,list:&#x27;work&#x27;&#125; //button為buttom的name</span><br></pre></td></tr></table></figure>
<p>We can see that we can tap into something that is called list and we can get its value to figure out whether if our newItem was added in the work list or whether it was added in our default list </p>
<ol start="4">
<li>可以使用button的value來判斷目前的資料添加在哪一個list<br>button改為<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;submit&quot; name=&quot;list&quot; value=&lt;%=listTitle%&gt;&gt; + &lt;/button&gt; //添加EJS</span><br></pre></td></tr></table></figure></li>
</ol>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">let items = [&quot;Buy food&quot;, &quot;Cook food&quot;, &quot;Eat food&quot;];</span><br><span class="line">let workItems = []</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;</span><br><span class="line">  extented: true</span><br><span class="line">&#125;));</span><br><span class="line">app.use(express.static(&quot;public&quot;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  let today = new Date();</span><br><span class="line">  let options = &#123;</span><br><span class="line">    weekday: &quot;long&quot;,</span><br><span class="line">    day: &quot;numeric&quot;,</span><br><span class="line">    month: &quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  let day = (today.toLocaleDateString(&quot;zh-TW&quot;, options))</span><br><span class="line">  res.render(&quot;list&quot;, &#123;</span><br><span class="line">    listTitle: day,</span><br><span class="line">    newListItems: items</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  let item = req.body.newItem;</span><br><span class="line">  if (req.body.list === &quot;Work&quot;) &#123; list值為Work</span><br><span class="line">    workItems.push(item);</span><br><span class="line">    res.redirect(&quot;/work&quot;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    items.push(item);</span><br><span class="line">    res.redirect(&quot;/&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/work&quot;, function(req, res) &#123; //其他的值</span><br><span class="line">  res.render(&quot;list&quot;, &#123;</span><br><span class="line">    listTitle: &quot;Work List&quot;,</span><br><span class="line">    newListItems: workItems</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="EJS-layout"><a href="#EJS-layout" class="headerlink" title="EJS layout"></a>EJS layout</h3><p>EJS allows us to create something called layout or partials.</p>
<p>在views資料夾建立兩個檔案</p>
<ol>
<li>header.ejs</li>
<li>footer.ejs</li>
</ol>
<p>This two files are going to be added to all the files that we created.</p>
<p>把list.ejs的header以及footer的部分分別剪下在header.ejs以及footer.ejs貼上</p>
<p>header.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;css321/styles321.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br></pre></td></tr></table></figure>

<p>list.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;header&quot;);-%&gt;   //必須添加的程式碼,代表沿用header.ejs的內容</span><br><span class="line">  &lt;div class=&quot;box&quot; id=heading&gt;</span><br><span class="line">    &lt;h1&gt;&lt;%=listTitle%&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;%for(let i =0;i&lt;newListItems.length;i++)&#123;%&gt;</span><br><span class="line">    &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot;&gt;</span><br><span class="line">      &lt;p&gt;&lt;%=newListItems[i]%&gt;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;%&#125;%&gt;</span><br><span class="line">    &lt;form class=&quot;item&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;newItem&quot; placeholder=&quot;新事項&quot; autocomplete=&quot;off&quot;&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot; name=&quot;list&quot; value=&lt;%=listTitle%&gt;&gt; + &lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;%-include(&quot;footer&quot;);-%&gt;  //必須添加的程式碼,代表沿用footer.ejs的內容</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>footer</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;footer&gt;</span><br><span class="line">  copyright承修2022</span><br><span class="line">&lt;/footer&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="創建一個新的EJS頁面並直接套用header以及footer"><a href="#創建一個新的EJS頁面並直接套用header以及footer" class="headerlink" title="創建一個新的EJS頁面並直接套用header以及footer"></a>創建一個新的EJS頁面並直接套用header以及footer</h3><p>在views資料夾創建一個新檔案about.ejs</p>
<p>about.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;hello world &lt;/h1&gt;</span><br><span class="line">&lt;%-include(&quot;footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<p>app.js </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/about&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;about&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC%E7%AC%AC22%E7%AF%80ejs%E7%A4%BA%E6%84%8F%E5%9C%963.png" alt="網頁開發第22節ejs示意圖3.png"></p>
<h3 id="Understanding-Node-Module-Export-How-to-Pass-Functions-and-Data-between-Files"><a href="#Understanding-Node-Module-Export-How-to-Pass-Functions-and-Data-between-Files" class="headerlink" title="Understanding Node Module Export: How to Pass Functions and Data between Files"></a>Understanding Node Module Export: How to Pass Functions and Data between Files</h3><p>建立一個data.js檔案</p>
<p>date.js </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">module.exports=getDate //做導出的動作,但我們不想執行這個方程式,所以沒有加上()</span><br><span class="line">function getDate()&#123;</span><br><span class="line">  let today = new Date();</span><br><span class="line">  let options = &#123;</span><br><span class="line">    weekday: &quot;long&quot;,</span><br><span class="line">    day: &quot;numeric&quot;,</span><br><span class="line">    month: &quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  let day = (today.toLocaleDateString(&quot;zh-TW&quot;, options))</span><br><span class="line">  return day;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F;Now the important thing with javascript objects is when you decide to add the parentheses:(),because the time when you add the parentheses then that means we have actually calling,we are activating the function,we do not want to do that inside this module because we want to let the app.js determine when the function should be called </p>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">const date = require(__dirname+&quot;/date.js&quot;)//導入</span><br><span class="line">let items = [&quot;Buy food&quot;, &quot;Cook food&quot;, &quot;Eat food&quot;];</span><br><span class="line">let workItems = []</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented: true&#125;));</span><br><span class="line">app.use(express.static(&quot;public&quot;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line"></span><br><span class="line">let day = date()  //把導入的方程式的值儲存在此變數</span><br><span class="line">  res.render(&quot;list&quot;, &#123;listTitle: day,newListItems: items&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.post(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">  let item = req.body.newItem;</span><br><span class="line">  if (req.body.list === &quot;Work&quot;) &#123;</span><br><span class="line">    workItems.push(item);</span><br><span class="line">    res.redirect(&quot;/work&quot;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    items.push(item);</span><br><span class="line">    res.redirect(&quot;/&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/work&quot;, function(req, res) &#123;</span><br><span class="line">  res.render(&quot;list&quot;, &#123;listTitle: &quot;Work List&quot;,newListItems: workItems&#125;);</span><br><span class="line">&#125;)</span><br><span class="line">app.get(&quot;/about&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;about&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>此時,我們在app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(date) ///const date = require(__dirname+&quot;/date.js&quot;)</span><br><span class="line"></span><br><span class="line">終端機顯示:</span><br><span class="line">[Function:getDate]</span><br></pre></td></tr></table></figure>

<p>說明:<br>What we are saying here is we have this module called date and we are requiring it up here which binds all of the exports to this const called date and then down here we call the function that is bound to that const date and we activate our getDate function,and we have the result of it stored inside day </p>
<h3 id="date-js有兩個方程式時該怎麼取用"><a href="#date-js有兩個方程式時該怎麼取用" class="headerlink" title="date.js有兩個方程式時該怎麼取用"></a>date.js有兩個方程式時該怎麼取用</h3><p>date.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">module.exports.getDate=getDate //定義取用此方程式的路徑</span><br><span class="line">function getDate()&#123;</span><br><span class="line">  let today = new Date();</span><br><span class="line">  let options = &#123;</span><br><span class="line">    weekday: &quot;long&quot;,</span><br><span class="line">    day: &quot;numeric&quot;,</span><br><span class="line">    month: &quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  let day = (today.toLocaleDateString(&quot;zh-TW&quot;, options))</span><br><span class="line">  return day;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports.getDay=getDay //定義取用此方程式的路徑</span><br><span class="line"></span><br><span class="line">function getDay()&#123;</span><br><span class="line">  let today = new Date();</span><br><span class="line">  let options = &#123;</span><br><span class="line">    weekday: &quot;long&quot;,</span><br><span class="line">  &#125;;</span><br><span class="line">  let day = (today.toLocaleDateString(&quot;zh-TW&quot;, options))</span><br><span class="line">  return day;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在app.js要取用方程式getDate</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let day = date.getDate()</span><br></pre></td></tr></table></figure>

<p>在app.js要取用方程式test</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let day = date.getDay()</span><br></pre></td></tr></table></figure>

<h3 id="簡化過的最終程式碼"><a href="#簡化過的最終程式碼" class="headerlink" title="簡化過的最終程式碼"></a>簡化過的最終程式碼</h3><p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const app = express();</span><br><span class="line">const date = require(__dirname+&quot;/date.js&quot;)</span><br><span class="line">const items = [&quot;Buy food&quot;, &quot;Cook food&quot;, &quot;Eat food&quot;];</span><br><span class="line">const workItems = []</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extented: true&#125;));</span><br><span class="line">app.use(express.static(&quot;public&quot;));</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line">app.get(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">const day= date.getDate()</span><br><span class="line">  res.render(&quot;list&quot;, &#123;listTitle: day,newListItems: items&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.post(&quot;/&quot;, function(req, res) &#123;</span><br><span class="line">const item = req.body.newItem;</span><br><span class="line">  if (req.body.list === &quot;Work&quot;) &#123;</span><br><span class="line">    workItems.push(item);</span><br><span class="line">    res.redirect(&quot;/work&quot;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    items.push(item);</span><br><span class="line">    res.redirect(&quot;/&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/work&quot;, function(req, res) &#123;</span><br><span class="line">  res.render(&quot;list&quot;, &#123;listTitle: &quot;Work List&quot;,newListItems: workItems&#125;);</span><br><span class="line">&#125;)</span><br><span class="line">app.get(&quot;/about&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;about&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;The server is running on port 3000.&quot;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>date.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">exports.getDate=function()&#123;</span><br><span class="line">  const today = new Date();</span><br><span class="line">  const options = &#123;</span><br><span class="line">    weekday: &quot;long&quot;,</span><br><span class="line">    day: &quot;numeric&quot;,</span><br><span class="line">    month: &quot;long&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  return today.toLocaleDateString(&quot;zh-TW&quot;, options)</span><br><span class="line">&#125;</span><br><span class="line">exports.getDay=function ()&#123;</span><br><span class="line">const today = new Date();</span><br><span class="line">  const options = &#123;</span><br><span class="line">    weekday: &quot;long&quot;,</span><br><span class="line">  &#125;;</span><br><span class="line">  return today.toLocaleDateString(&quot;zh-TW&quot;, options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>list.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;header&quot;);-%&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; id=heading&gt;</span><br><span class="line">    &lt;h1&gt;&lt;%=listTitle%&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;%for(let i =0;i&lt;newListItems.length;i++)&#123;%&gt;</span><br><span class="line">    &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot;&gt;</span><br><span class="line">      &lt;p&gt;&lt;%=newListItems[i]%&gt;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;%&#125;%&gt;</span><br><span class="line">    &lt;form class=&quot;item&quot; action=&quot;/&quot; method=&quot;post&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;newItem&quot; placeholder=&quot;新事項&quot; autocomplete=&quot;off&quot;&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot; name=&quot;list&quot; value=&lt;%=listTitle%&gt;&gt; + &lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;%-include(&quot;footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<p>header.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;To Do List&lt;/title&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;css321/styles321.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br></pre></td></tr></table></figure>

<p>footer.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;footer&gt;</span><br><span class="line">  copyrightJeremy2022</span><br><span class="line">&lt;/footer&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="const-and-javascript-array"><a href="#const-and-javascript-array" class="headerlink" title="const and javascript array"></a>const and javascript array</h3><p><strong>Cannot be Reassigned</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line">cars = [&quot;Toyota&quot;, &quot;Volvo&quot;, &quot;Audi&quot;];    // ERROR</span><br></pre></td></tr></table></figure>

<p><strong>Elements Can be Reassigned</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// You can create a constant array:</span><br><span class="line">const cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line"></span><br><span class="line">// You can change an element:</span><br><span class="line">cars[0] = &quot;Toyota&quot;;</span><br><span class="line"></span><br><span class="line">// You can add an element:</span><br><span class="line">cars.push(&quot;Audi&quot;);</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://razieldu.github.io">Jeremy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://razieldu.github.io/2022/03/28/Udemy-WebDevelopment-ch22-EJS/">https://razieldu.github.io/2022/03/28/Udemy-WebDevelopment-ch22-EJS/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/03/31/Udemy-WebDevelopment-ch23-Blog-Website/"><img class="prev-cover" src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Udemy Web Development Ch23 Blog Website</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/25/Udemy-WebDevelopment-ch21-Git-GitHub-and-Version-Control/"><img class="next-cover" src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Udemy Web Development Ch21 Git Gihub and Version Control</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jeremy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">86</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Razieldu"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-do-we-need-template"><span class="toc-number">1.</span> <span class="toc-text">Why do we need template?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getDay"><span class="toc-number">2.</span> <span class="toc-text">getDay()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E5%BE%97%E6%9C%AC%E5%9C%B0%E7%9A%84%E6%97%A5%E6%9C%9F%E8%88%87%E6%99%82%E9%96%93"><span class="toc-number">3.</span> <span class="toc-text">取得本地的日期與時間</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E5%BE%97%E7%80%8F%E8%A6%BD%E8%80%85%E7%99%BB%E5%85%A5%E6%99%82%E7%9A%84%E6%98%9F%E6%9C%9F-%E4%B8%A6%E4%BE%9D%E7%85%A7%E6%98%9F%E6%9C%9F%E7%99%BC%E9%80%81%E4%B8%8D%E5%90%8C%E7%9A%84res-send"><span class="toc-number">4.</span> <span class="toc-text">取得瀏覽者登入時的星期,並依照星期發送不同的res.send</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#We-Need-to-Create-a-HTML-Template"><span class="toc-number">5.</span> <span class="toc-text">We Need to Create a HTML Template</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-your-first-EJS-Templates"><span class="toc-number">6.</span> <span class="toc-text">Create your first EJS Templates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EJS-marker-lt-x3D-EJS-gt"><span class="toc-number">7.</span> <span class="toc-text">EJS marker:&lt;%&#x3D; EJS %&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day%E7%9A%84%E5%80%BC%E9%9A%A8%E8%91%97%E6%97%A5%E6%9C%9F%E8%AE%8A%E5%8B%95"><span class="toc-number">8.</span> <span class="toc-text">day的值隨著日期變動</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%91%E7%9A%84%E4%BD%9C%E6%B3%95"><span class="toc-number">9.</span> <span class="toc-text">我的作法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8switch-statement"><span class="toc-number">10.</span> <span class="toc-text">使用switch statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Running-Code-Inside-the-EJS-Template"><span class="toc-number">11.</span> <span class="toc-text">Running Code Inside the EJS Template</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Passing-Data-from-Your-Web-Page-To-Your-Server"><span class="toc-number">12.</span> <span class="toc-text">Passing Data from Your Web Page To Your Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BC%8F%E7%A2%BC%E4%BF%AE%E6%AD%A3"><span class="toc-number">13.</span> <span class="toc-text">程式碼修正</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5%E9%A9%9F"><span class="toc-number">14.</span> <span class="toc-text">下一步驟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%8C%AF%E8%AA%A4"><span class="toc-number">15.</span> <span class="toc-text">錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%AD%A3"><span class="toc-number">16.</span> <span class="toc-text">修正</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%8C%AF%E8%AA%A4-1"><span class="toc-number">17.</span> <span class="toc-text">錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B1%BA"><span class="toc-number">18.</span> <span class="toc-text">解決</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%8C%AF%E8%AA%A4-2"><span class="toc-number">19.</span> <span class="toc-text">錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B1%BA-1"><span class="toc-number">20.</span> <span class="toc-text">解決</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%8C%AF%E8%AA%A4-3"><span class="toc-number">21.</span> <span class="toc-text">錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9B%A0"><span class="toc-number">22.</span> <span class="toc-text">原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B1%BA-2"><span class="toc-number">23.</span> <span class="toc-text">解決</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Concept-of-Scope-in-the-Context-of-javascript"><span class="toc-number">24.</span> <span class="toc-text">The Concept of Scope in the Context of javascript</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Local-variables"><span class="toc-number">25.</span> <span class="toc-text">Local variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Global-Variables"><span class="toc-number">26.</span> <span class="toc-text">Global Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%83%85%E6%B3%81-Javacript%E7%89%B9%E4%BE%8B"><span class="toc-number">27.</span> <span class="toc-text">特殊情況(Javacript特例)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Adding-CSS-Stylesheets-to-Your-Website"><span class="toc-number">28.</span> <span class="toc-text">Adding  CSS Stylesheets to Your Website</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9B%A0-1"><span class="toc-number">29.</span> <span class="toc-text">原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B1%BA-3"><span class="toc-number">30.</span> <span class="toc-text">解決</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Understanding-Templating-vs-Layout"><span class="toc-number">31.</span> <span class="toc-text">Understanding Templating vs Layout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%8C%AF%E8%AA%A4-4"><span class="toc-number">32.</span> <span class="toc-text">錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9B%A0-2"><span class="toc-number">33.</span> <span class="toc-text">原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EJS-layout"><span class="toc-number">34.</span> <span class="toc-text">EJS layout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%B5%E5%BB%BA%E4%B8%80%E5%80%8B%E6%96%B0%E7%9A%84EJS%E9%A0%81%E9%9D%A2%E4%B8%A6%E7%9B%B4%E6%8E%A5%E5%A5%97%E7%94%A8header%E4%BB%A5%E5%8F%8Afooter"><span class="toc-number">35.</span> <span class="toc-text">創建一個新的EJS頁面並直接套用header以及footer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Understanding-Node-Module-Export-How-to-Pass-Functions-and-Data-between-Files"><span class="toc-number">36.</span> <span class="toc-text">Understanding Node Module Export: How to Pass Functions and Data between Files</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#date-js%E6%9C%89%E5%85%A9%E5%80%8B%E6%96%B9%E7%A8%8B%E5%BC%8F%E6%99%82%E8%A9%B2%E6%80%8E%E9%BA%BC%E5%8F%96%E7%94%A8"><span class="toc-number">37.</span> <span class="toc-text">date.js有兩個方程式時該怎麼取用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B0%A1%E5%8C%96%E9%81%8E%E7%9A%84%E6%9C%80%E7%B5%82%E7%A8%8B%E5%BC%8F%E7%A2%BC"><span class="toc-number">38.</span> <span class="toc-text">簡化過的最終程式碼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const-and-javascript-array"><span class="toc-number">39.</span> <span class="toc-text">const and javascript array</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/11/09/Udemy-React-TheCompleteGuide-ch27-React-with-Typescript/" title="Udemy-React-TheCompleteGuide ch27 Testing React App  "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch27 Testing React App  "/></a><div class="content"><a class="title" href="/2022/11/09/Udemy-React-TheCompleteGuide-ch27-React-with-Typescript/" title="Udemy-React-TheCompleteGuide ch27 Testing React App  ">Udemy-React-TheCompleteGuide ch27 Testing React App  </a><time datetime="2022-11-09T14:03:55.000Z" title="Created 2022-11-09 22:03:55">2022-11-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/15/%E4%BD%BF%E7%94%A8ClassComponent%E6%90%AD%E9%85%8DRedux%E4%BE%86%E5%AF%A6%E4%BD%9C%E8%B3%BC%E7%89%A9%E8%BB%8A/" title="使用Class Component搭配Redux來實作購物車"><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Class Component搭配Redux來實作購物車"/></a><div class="content"><a class="title" href="/2022/10/15/%E4%BD%BF%E7%94%A8ClassComponent%E6%90%AD%E9%85%8DRedux%E4%BE%86%E5%AF%A6%E4%BD%9C%E8%B3%BC%E7%89%A9%E8%BB%8A/" title="使用Class Component搭配Redux來實作購物車">使用Class Component搭配Redux來實作購物車</a><time datetime="2022-10-15T06:32:21.000Z" title="Created 2022-10-15 14:32:21">2022-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/08/Udemy-React-TheCompleteGuide-ch24-Animation/" title="Udemy-React-TheCompleteGuide ch24 Animation  "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch24 Animation  "/></a><div class="content"><a class="title" href="/2022/10/08/Udemy-React-TheCompleteGuide-ch24-Animation/" title="Udemy-React-TheCompleteGuide ch24 Animation  ">Udemy-React-TheCompleteGuide ch24 Animation  </a><time datetime="2022-10-08T07:28:55.000Z" title="Created 2022-10-08 15:28:55">2022-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/06/Udemy-JavaScriptAlgorithmsAndDataStructures-ch1/" title="Udemy-JavaScript Algorithms And DataStructures ch1"><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-JavaScript Algorithms And DataStructures ch1"/></a><div class="content"><a class="title" href="/2022/10/06/Udemy-JavaScriptAlgorithmsAndDataStructures-ch1/" title="Udemy-JavaScript Algorithms And DataStructures ch1">Udemy-JavaScript Algorithms And DataStructures ch1</a><time datetime="2022-10-06T04:44:42.000Z" title="Created 2022-10-06 12:44:42">2022-10-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/30/Udemy-React-TheCompleteGuide-ch26-Testing-React-App/" title="Udemy-React-TheCompleteGuide ch26 Testing React App  "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch26 Testing React App  "/></a><div class="content"><a class="title" href="/2022/09/30/Udemy-React-TheCompleteGuide-ch26-Testing-React-App/" title="Udemy-React-TheCompleteGuide ch26 Testing React App  ">Udemy-React-TheCompleteGuide ch26 Testing React App  </a><time datetime="2022-09-30T05:53:55.000Z" title="Created 2022-09-30 13:53:55">2022-09-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Jeremy</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>