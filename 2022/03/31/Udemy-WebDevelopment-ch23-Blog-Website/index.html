<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Udemy Web Development Ch23 Blog Website | Jeremy's Blog</title><meta name="author" content="Jeremy"><meta name="copyright" content="Jeremy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Node modules 重新安裝When you come across projects that are shared for example over GitHub,you will see that all of these projects,the Node modules tend to be gitignored.So you do not have to load  massiv">
<meta property="og:type" content="article">
<meta property="og:title" content="Udemy Web Development Ch23 Blog Website">
<meta property="og:url" content="https://razieldu.github.io/2022/03/31/Udemy-WebDevelopment-ch23-Blog-Website/index.html">
<meta property="og:site_name" content="Jeremy&#39;s Blog">
<meta property="og:description" content="Node modules 重新安裝When you come across projects that are shared for example over GitHub,you will see that all of these projects,the Node modules tend to be gitignored.So you do not have to load  massiv">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg">
<meta property="article:published_time" content="2022-03-31T12:37:36.000Z">
<meta property="article:modified_time" content="2022-04-28T04:51:52.153Z">
<meta property="article:author" content="Jeremy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://razieldu.github.io/2022/03/31/Udemy-WebDevelopment-ch23-Blog-Website/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Udemy Web Development Ch23 Blog Website',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-28 12:51:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jeremy's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Udemy Web Development Ch23 Blog Website</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-03-31T12:37:36.000Z" title="Created 2022-03-31 20:37:36">2022-03-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-04-28T04:51:52.153Z" title="Updated 2022-04-28 12:51:52">2022-04-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web-development/">Web development</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Udemy Web Development Ch23 Blog Website"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="Node-modules-重新安裝"><a href="#Node-modules-重新安裝" class="headerlink" title="Node modules 重新安裝"></a>Node modules 重新安裝</h3><p>When you come across projects that are shared for example over GitHub,you will see that all of these projects,the Node modules tend to be gitignored.So you do not have to load  massive files over the internet. And when people download it,it is also relatively small.But if you have a look inside that package.json, they would specified the dependencies that are required for the projects to work.</p>
<h3 id="How-you-can-install-those-Node-modules-locally-given-that-we-already-got-the-dependencies-inside-our-package-json"><a href="#How-you-can-install-those-Node-modules-locally-given-that-we-already-got-the-dependencies-inside-our-package-json" class="headerlink" title="How you can install those Node modules locally given that we already got the dependencies inside our package.json"></a>How you can install those Node modules locally given that we already got the dependencies inside our package.json</h3><p>使用終端機前往專案資料夾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install </span><br></pre></td></tr></table></figure>
<p>會自動抓取缺少的檔案</p>
<p><strong>專案資料夾結構</strong><br><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC23%E7%AF%80%E5%B0%88%E6%A1%88%E8%B3%87%E6%96%99%E5%A4%BE%E7%B5%90%E6%A7%8B.png" alt="網頁開發第23節專案資料夾結構.png"></p>
<p><strong>app.js 起始程式碼</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//jshint esversion:6</span><br><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const ejs = require(&quot;ejs&quot;);</span><br><span class="line"></span><br><span class="line">const homeStartingContent = &quot;Lacus vel facilisis volutpat est velit egestas dui id ornare. Semper auctor neque vitae tempus quam. Sit amet cursus sit amet dictum sit amet justo. Viverra tellus in hac habitasse. Imperdiet proin fermentum leo vel orci porta. Donec ultrices tincidunt arcu non sodales neque sodales ut. Mattis molestie a iaculis at erat pellentesque adipiscing. Magnis dis parturient montes nascetur ridiculus mus mauris vitae ultricies. Adipiscing elit ut aliquam purus sit amet luctus venenatis lectus. Ultrices vitae auctor eu augue ut lectus arcu bibendum at. Odio euismod lacinia at quis risus sed vulputate odio ut. Cursus mattis molestie a iaculis at erat pellentesque adipiscing.&quot;;</span><br><span class="line"></span><br><span class="line">const aboutContent = &quot;Hac habitasse platea dictumst vestibulum rhoncus est pellentesque. Dictumst vestibulum rhoncus est pellentesque elit ullamcorper. Non diam phasellus vestibulum lorem sed. Platea dictumst quisque sagittis purus sit. Egestas sed sed risus pretium quam vulputate dignissim suspendisse. Mauris in aliquam sem fringilla. Semper risus in hendrerit gravida rutrum quisque non tellus orci. Amet massa vitae tortor condimentum lacinia quis vel eros. Enim ut tellus elementum sagittis vitae. Mauris ultrices eros in cursus turpis massa tincidunt dui.&quot;;</span><br><span class="line"></span><br><span class="line">const contactContent = &quot;Scelerisque eleifend donec pretium vulputate sapien. Rhoncus urna neque viverra justo nec ultrices. Arcu dui vivamus arcu felis bibendum. Consectetur adipiscing elit duis tristique. Risus viverra adipiscing at in tellus integer feugiat. Sapien nec sagittis aliquam malesuada bibendum arcu vitae. Consequat interdum varius sit amet mattis. Iaculis nunc sed augue lacus. Interdum posuere lorem ipsum dolor sit amet consectetur adipiscing elit. Pulvinar elementum integer enim neque. Ultrices gravida dictum fusce ut placerat orci nulla. Mauris in aliquam sem fringilla ut morbi tincidunt. Tortor posuere ac ut consequat semper viverra nam libero.&quot;;</span><br><span class="line"></span><br><span class="line">const app = express();</span><br><span class="line">app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extended: true&#125;));</span><br><span class="line">app.use(express.static(&quot;public&quot;));</span><br><span class="line"></span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;Server started on port 3000&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="步驟一"><a href="#步驟一" class="headerlink" title="步驟一"></a>步驟一</h3><p>使用者登入localhost:3000時,在home.ejs上面呈現元素為h1內容為home</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">    res.render(&quot;Home&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="步驟2"><a href="#步驟2" class="headerlink" title="步驟2"></a>步驟2</h3><p>使用者登入localhost:3000時,使用EJS把const變數homeStartingContent的內容render過去home.ejs頁面的變數homeStartingContent</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;&lt;%=homeStartingContent%&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">    res.render(&quot;home&quot;,&#123;StartingContent:homeStartingContent&#125;);</span><br><span class="line">    //&#123;home.ejs程式頁面的變數名稱:app.js程式頁面的變數名稱&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="步驟3"><a href="#步驟3" class="headerlink" title="步驟3"></a>步驟3</h3><p>在home.ej頁面套入layout</p>
<p><strong>header.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Daily Journal&lt;/title&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/styles.css&quot;&gt;</span><br><span class="line">  &lt;nav class=&quot;navbar navbar-default&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;navbar-header&quot;&gt;</span><br><span class="line">        &lt;p class=&quot;navbar-brand&quot;&gt;DAILY JOURNAL&lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">        &lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;</span><br><span class="line">          &lt;!-- 6 --&gt;</span><br><span class="line">          &lt;li id=&quot;home&quot;&gt;&lt;a href=&quot;#&quot;&gt;HOME&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">          &lt;li id=&quot;about&quot;&gt;&lt;a href=&quot;#&quot;&gt;ABOUT US&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">          &lt;li id=&quot;contact&quot;&gt;&lt;a href=&quot;#&quot;&gt;CONTACT US&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/nav&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br></pre></td></tr></table></figure>

<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;header&quot;);-%&gt;//添加</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line">&lt;%-include(&quot;footer&quot;);-%&gt;//添加</span><br></pre></td></tr></table></figure>

<p><strong>footer.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;footer-padding&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;footer&quot;&gt;</span><br><span class="line">    &lt;p&gt;Made by Jeremy Du &lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟4"><a href="#步驟4" class="headerlink" title="步驟4"></a>步驟4</h3><p>在views資料夾建立一個資料夾partials,把header.ejs以及footer.ejs移進去partials資料夾,更改home,ejs裡面的header以及footer路徑</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=homeStartingContent%&gt;&lt;/P&gt;</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟5"><a href="#步驟5" class="headerlink" title="步驟5"></a>步驟5</h3><p>使用EJS layput 把about頁面以及contact頁面建立出來把const變數contactContent以及const變數 aboutContent分別render進去,當瀏覽者使用localhost:3000&#x2F;about以及localhost:3000&#x2F;contact的網址可以進行瀏覽</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/about&quot;,function(req,res)&#123; //添加</span><br><span class="line">  res.render(&quot;about&quot;,&#123;aboutContent:aboutContent&#125;);</span><br><span class="line">&#125;)</span><br><span class="line">app.get(&quot;/contact&quot;,function(req,res)&#123; //添加</span><br><span class="line">  res.render(&quot;contact&quot;,&#123;contactContent:contactContent&#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>about.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;About&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=aboutContent%&gt;&lt;/P&gt;</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<p><strong>contact.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Contact&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=contactContent%&gt;&lt;/P&gt;</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟6"><a href="#步驟6" class="headerlink" title="步驟6"></a>步驟6</h3><p><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E7%B6%B2%E9%A0%81%E9%96%8B%E7%99%BC23%E7%AF%80%E6%8C%89%E9%88%95%E8%B6%85%E9%80%A3%E7%B5%90%E7%A4%BA%E6%84%8F%E5%9C%96.png" alt="網頁開發第23節按鈕超連結示意圖.png"></p>
<p>讓上方的按鈕可以連結到相對應的頁面</p>
<p><strong>header.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Daily Journal&lt;/title&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/styles.css&quot;&gt;</span><br><span class="line">  &lt;nav class=&quot;navbar navbar-default&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;navbar-header&quot;&gt;</span><br><span class="line">        &lt;p class=&quot;navbar-brand&quot;&gt;DAILY JOURNAL&lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">        &lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;</span><br><span class="line">          &lt;li id=&quot;home&quot;&gt;&lt;a href=&quot;/&quot;&gt;HOME&lt;/a&gt;&lt;/li&gt;//更改連結位址</span><br><span class="line">          &lt;li id=&quot;about&quot;&gt;&lt;a href=&quot;/about&quot;&gt;ABOUT US&lt;/a&gt;&lt;/li&gt;//更改連結位址</span><br><span class="line">          &lt;li id=&quot;contact&quot;&gt;&lt;a href=&quot;/contact&quot;&gt;CONTACT US&lt;/a&gt;&lt;/li&gt;//更改連結位址</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟7"><a href="#步驟7" class="headerlink" title="步驟7"></a>步驟7</h3><p>建立一個compose.ejs,使用EJS套用header以及footer,有個h1內容為Compose,有個input,有個按鈕上面寫:Publish</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/compose&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;compose&quot;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>compose.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Compose&lt;/h1&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;&quot;&gt;// value刪除</span><br><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;Publish&lt;/button&gt;//type改為submit</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟8"><a href="#步驟8" class="headerlink" title="步驟8"></a>步驟8</h3><p>在compose.ejs頁面,在input輸入的訊息後,點擊按鈕,訊息要能呈現在終端機上(位置在此專案資料夾)</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.post(&quot;/compose&quot;,function(req,res)&#123;</span><br><span class="line">  console.log(req.body.postTitle); //postTitle為input的訊息之名稱,body從body-parser而來</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>compose.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Compose&lt;/h1&gt;</span><br><span class="line">&lt;form class=&quot;&quot; action=&quot;/compose&quot; method=&quot;post&quot;&gt;</span><br><span class="line">//新增一個form元素配合body-parser,action內容改為:/compose</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;postTitle&quot;&gt;//給予一個名稱</span><br><span class="line">&lt;button type=&quot;submit&quot; name=&quot;button&quot;&gt;Publish&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟9"><a href="#步驟9" class="headerlink" title="步驟9"></a>步驟9</h3><p>修正compose.ejs頁面由上到下分別為h1:Compose,一個label:Title,一個input,一個label:Post,一個input,一個按鈕名稱publish,整頁套入bootstrap效果<br><strong>compose.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Compose&lt;/h1&gt;</span><br><span class="line">&lt;form action=&quot;/compose&quot; method=&quot;post&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;mb-3&quot;&gt;</span><br><span class="line">    &lt;label for=&quot;postTitle&quot; class=&quot;form-label&quot;&gt;Title&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;postTitle&quot; class=&quot;form-control&quot; id=&quot;postTitle&quot; autocomplete=&quot;off&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;mb-3&quot;&gt;</span><br><span class="line">    &lt;label for=&quot;postBody&quot; class=&quot;form-label&quot;&gt;Post&lt;/label&gt;</span><br><span class="line">    &lt;textarea type=&quot;text&quot; name=&quot;postBody&quot; class=&quot;form-control&quot; id=&quot;postBody&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Publish&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟10"><a href="#步驟10" class="headerlink" title="步驟10"></a>步驟10</h3><p>建立一個javascript object 名稱為post,並且把postTitle的值以及postBody的值儲存進去</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.post(&quot;/compose&quot;,function(req,res)&#123;</span><br><span class="line">  const post=&#123;title:req.body.postTitle, //儲存後不打算變更,所以使用const</span><br><span class="line">            content:req.body.postBody</span><br><span class="line">            &#125;;</span><br><span class="line">  console.log(post)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="步驟11"><a href="#步驟11" class="headerlink" title="步驟11"></a>步驟11</h3><p>建立一個array來儲存const post,每一次點擊publish button都可以在終端機看到每一次的po文,並且都要重新導向home頁面(“&#x2F;“)</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">//jshint esversion:6</span><br><span class="line"></span><br><span class="line">const express = require(&quot;express&quot;);</span><br><span class="line">const bodyParser = require(&quot;body-parser&quot;);</span><br><span class="line">const ejs = require(&quot;ejs&quot;);</span><br><span class="line"></span><br><span class="line">const homeStartingContent = </span><br><span class="line">const aboutContent = </span><br><span class="line">const contactContent = </span><br><span class="line"></span><br><span class="line">const app = express();</span><br><span class="line">app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;extended: true&#125;));</span><br><span class="line">app.use(express.static(&quot;public&quot;));</span><br><span class="line">let posts=[]; //使用let相較於var比較安全</span><br><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;home&quot;,&#123;StartingContent:homeStartingContent&#125;);</span><br><span class="line">  console.log(posts)</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/about&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;about&quot;,&#123;aboutContent:aboutContent&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/contact&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;contact&quot;,&#123;contactContent:contactContent&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">app.get(&quot;/compose&quot;,function(req,res)&#123;</span><br><span class="line">  res.render(&quot;compose&quot;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.post(&quot;/compose&quot;,function(req,res)&#123;</span><br><span class="line">  const post=&#123;title:req.body.postTitle,</span><br><span class="line">            content:req.body.postBody</span><br><span class="line">          &#125;;</span><br><span class="line">  posts.push(post); //把新的文章標題儲存進去arrary</span><br><span class="line">  res.redirect(&quot;/&quot;); //重新導向&quot;/&quot;</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000, function() &#123;</span><br><span class="line">  console.log(&quot;Server started on port 3000&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="步驟12"><a href="#步驟12" class="headerlink" title="步驟12"></a>步驟12</h3><p>在compose.ejs輸入資料,在app.post階段儲存變數posts,並res.redirect(“&#x2F;“),在app.get(“&#x2F;“)階段,把儲存起來的資料render到home.ejs使用console.log呈現</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/&quot;,function(req,res)&#123;</span><br><span class="line">      res.render(&quot;home&quot;,&#123;</span><br><span class="line">        StartingContent:homeStartingContent, </span><br><span class="line">        posts:posts //再設立一個變數</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>home.ejs</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line">&lt;%console.log(posts)%&gt; //從home.ejs頁面在終端機呈現儲存數值</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟13"><a href="#步驟13" class="headerlink" title="步驟13"></a>步驟13</h3><p>使用for loop在compose.ejs頁面,每次輸入時都會在終端機呈現所有輸入過的文章標題</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line"></span><br><span class="line">&lt;%for (let i=0;i&lt;posts.length;i++)&#123;%&gt;</span><br><span class="line">&lt;%console.log(posts[i].title)%&gt; </span><br><span class="line">//變數是一個array,我們要指定的元素為array裡面的object之title</span><br><span class="line">&lt;%&#125;%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">終端機呈現:</span><br><span class="line">Server started on port 3000</span><br><span class="line">第一天 //第一次輸入</span><br><span class="line">第一天 //第二次輸入</span><br><span class="line">第二天 //第二次輸入</span><br><span class="line">第一天 //第三次輸入</span><br><span class="line">第二天 //第三次輸入</span><br><span class="line">第三天 //第三次輸入</span><br></pre></td></tr></table></figure>

<h3 id="步驟14"><a href="#步驟14" class="headerlink" title="步驟14"></a>步驟14</h3><p>使用forEach()取代步驟13的forloop</p>
<p><strong>forEach() 方法會將陣列內的每個元素，皆傳入並執行給定的函式一次</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const array1 = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];</span><br><span class="line">array1.forEach(function(element)&#123;</span><br><span class="line">console.log(element);</span><br><span class="line">&#125;);  </span><br><span class="line"></span><br><span class="line">// expected output: &quot;a&quot;</span><br><span class="line">// expected output: &quot;b&quot;</span><br><span class="line">// expected output: &quot;c&quot;</span><br></pre></td></tr></table></figure>

<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line"></span><br><span class="line">&lt;%posts.forEach(function(post)&#123;%&gt; //轉換使用forEach</span><br><span class="line">  &lt;%console.log(post.title)%&gt;</span><br><span class="line">&lt;%&#125;);%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟15"><a href="#步驟15" class="headerlink" title="步驟15"></a>步驟15</h3><p>把新文章呈現在home.ejs</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line"></span><br><span class="line">&lt;%posts.forEach(function(post)&#123;%&gt;</span><br><span class="line">  &lt;h1&gt;&lt;%=post.title%&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;p&gt;&lt;%=post.content%&gt;&lt;/p&gt;</span><br><span class="line">&lt;%&#125;);%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Express-Routing-Parameters"><a href="#Express-Routing-Parameters" class="headerlink" title="Express Routing Parameters"></a>Express Routing Parameters</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Route path: /users/:userId/books/:bookId</span><br><span class="line">Request URL: http://localhost:3000/users/34/books/8989</span><br><span class="line">req.params: &#123; &quot;userId&quot;: &quot;34&quot;, &quot;bookId&quot;: &quot;8989&quot; &#125;</span><br><span class="line"></span><br><span class="line">app.get(&#x27;/users/:userId/books/:bookId&#x27;, (req, res) =&gt; &#123;</span><br><span class="line">  res.send(req.params)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Route path: /flights/:from-:to</span><br><span class="line">Request URL: http://localhost:3000/flights/LAX-SFO</span><br><span class="line">req.params: &#123; &quot;from&quot;: &quot;LAX&quot;, &quot;to&quot;: &quot;SFO&quot; &#125;</span><br><span class="line"></span><br><span class="line">Route path: /user/:userId(\d+)</span><br><span class="line">Request URL: http://localhost:3000/user/42</span><br><span class="line">req.params: &#123;&quot;userId&quot;: &quot;42&quot;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="步驟16"><a href="#步驟16" class="headerlink" title="步驟16"></a>步驟16</h3><ol>
<li>只有當app.js檔案被變動,Nodemon 才會重新啟動伺服器</li>
<li>在終端機輸入:rs,強制Nodemon 重新啟動伺服器</li>
</ol>
<p>在網址列:localhost:3000&#x2F;posts&#x2F;輸入任意字詞,任意字詞的部分要在終端機顯示</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/posts/:postName&quot;,function(req,res)&#123;</span><br><span class="line">  console.log(req.params.postName)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="步驟17"><a href="#步驟17" class="headerlink" title="步驟17"></a>步驟17</h3><ol>
<li>在compose.ejs輸入文章標題以及內容</li>
<li>在網址列輸入:localhost:3000&#x2F;posts&#x2F;文章標題 </li>
<li>終端機顯示:match found</li>
</ol>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/posts/:postName&quot;,function(req,res)&#123;</span><br><span class="line">  const requestedTitle= req.params.postName </span><br><span class="line">  //在compose.ejs 輸入標題後,在home.ejs輸入網址(localhost:3000/posts/文章標題)後,會抓取的部分</span><br><span class="line">   posts.forEach(function(post)&#123;</span><br><span class="line">      const storedTitle=post.title</span><br><span class="line">      if (requestedTitle===storedTitle)&#123;</span><br><span class="line">        console.log(&quot;match found&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="步驟18"><a href="#步驟18" class="headerlink" title="步驟18"></a>步驟18</h3><p>解決網址空格導致文章標題與網址不一致的問題,舉例(another post vs another-post)或者(test vs TEST)</p>
<p>安裝套件:<a target="_blank" rel="noopener" href="https://lodash.com/">https://lodash.com/</a><br>A modern JavaScript utility library delivering modularity, performance &amp; extras.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -g npm</span><br><span class="line">$ npm i --save lodash</span><br></pre></td></tr></table></figure>

<p><strong>_.lowerCase()</strong><br>Converts string, as space separated words, to lower case. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">_.lowerCase(&#x27;--Foo-Bar--&#x27;);</span><br><span class="line">// =&gt; &#x27;foo bar&#x27;</span><br><span class="line"> </span><br><span class="line">_.lowerCase(&#x27;fooBar&#x27;);</span><br><span class="line">// =&gt; &#x27;foo bar&#x27;</span><br><span class="line"> </span><br><span class="line">_.lowerCase(&#x27;__FOO_BAR__&#x27;);</span><br><span class="line">// =&gt; &#x27;foo bar&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>步驟19</strong></p>
<p>在compose.ejs頁面輸入文章標題以及內容,要能呈現在home.ejs,同時使用網址:localhost:3000&#x2F;posts&#x2F;文章標題,要能前往獨立一個頁面,同時在該頁面呈現標題以及文章</p>
<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;/posts/:postName&quot;,function(req,res)&#123;</span><br><span class="line">  const requestedTitle= _.lowerCase(req.params.postName)</span><br><span class="line"></span><br><span class="line">   posts.forEach(function(post)&#123;</span><br><span class="line">      const storedTitle=_.lowerCase(post.title)</span><br><span class="line">      if (requestedTitle===storedTitle)&#123;</span><br><span class="line">          res.render(&quot;post&quot;,&#123;newTitle:post.title, </span><br><span class="line">            newArticle:post.content</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>post.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;&lt;%=newTitle%&gt;&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;&lt;%=newArticle%&gt;&lt;/p&gt;</span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟20"><a href="#步驟20" class="headerlink" title="步驟20"></a>步驟20</h3><p>限制呈現在home.ejs的文章字數為100,並在結尾呈現:…</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line"></span><br><span class="line">&lt;%posts.forEach(function(post)&#123;%&gt;</span><br><span class="line">  &lt;h1&gt;&lt;%=post.title%&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;p&gt;&lt;%=post.content.substring(0,100)+&quot; ...&quot;%&gt;&lt;/p&gt; //substring(0,1),留下第一個字母</span><br><span class="line">&lt;%&#125;);%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

<h3 id="步驟21"><a href="#步驟21" class="headerlink" title="步驟21"></a>步驟21</h3><p>在Home.ejs的每個文章的preview之後加入Read More(anchor),點擊可以連結到對應文章頁面</p>
<p><strong>home.ejs</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-include(&quot;partials/header&quot;);-%&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;/h1&gt;</span><br><span class="line">&lt;P&gt;&lt;%=StartingContent%&gt;&lt;/P&gt;</span><br><span class="line"></span><br><span class="line">&lt;%posts.forEach(function(post)&#123;%&gt;</span><br><span class="line">  &lt;h1&gt;&lt;%=post.title%&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;p&gt;&lt;%=post.content.substring(0,100)+&quot; ...&quot;%&gt;</span><br><span class="line">  &lt;a href=&quot;/posts/&lt;%=post.title%&gt;&quot;&gt;Read More&lt;/a&gt; //增加anchor</span><br><span class="line">  &lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;%&#125;);%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-include(&quot;partials/footer&quot;);-%&gt;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://razieldu.github.io">Jeremy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://razieldu.github.io/2022/03/31/Udemy-WebDevelopment-ch23-Blog-Website/">https://razieldu.github.io/2022/03/31/Udemy-WebDevelopment-ch23-Blog-Website/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/06/Udemy-WebDevelopment-ch24-Databases/"><img class="prev-cover" src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Udemy Web Development Ch24 Databases</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/28/Udemy-WebDevelopment-ch22-EJS/"><img class="next-cover" src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Udemy Web Development Ch22 EJS</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jeremy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Razieldu"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Node-modules-%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%9D"><span class="toc-number">1.</span> <span class="toc-text">Node modules 重新安裝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-you-can-install-those-Node-modules-locally-given-that-we-already-got-the-dependencies-inside-our-package-json"><span class="toc-number">2.</span> <span class="toc-text">How you can install those Node modules locally given that we already got the dependencies inside our package.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F%E4%B8%80"><span class="toc-number">3.</span> <span class="toc-text">步驟一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F2"><span class="toc-number">4.</span> <span class="toc-text">步驟2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F3"><span class="toc-number">5.</span> <span class="toc-text">步驟3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F4"><span class="toc-number">6.</span> <span class="toc-text">步驟4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F5"><span class="toc-number">7.</span> <span class="toc-text">步驟5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F6"><span class="toc-number">8.</span> <span class="toc-text">步驟6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F7"><span class="toc-number">9.</span> <span class="toc-text">步驟7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F8"><span class="toc-number">10.</span> <span class="toc-text">步驟8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F9"><span class="toc-number">11.</span> <span class="toc-text">步驟9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F10"><span class="toc-number">12.</span> <span class="toc-text">步驟10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F11"><span class="toc-number">13.</span> <span class="toc-text">步驟11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F12"><span class="toc-number">14.</span> <span class="toc-text">步驟12</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F13"><span class="toc-number">15.</span> <span class="toc-text">步驟13</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F14"><span class="toc-number">16.</span> <span class="toc-text">步驟14</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F15"><span class="toc-number">17.</span> <span class="toc-text">步驟15</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Express-Routing-Parameters"><span class="toc-number">18.</span> <span class="toc-text">Express Routing Parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F16"><span class="toc-number">19.</span> <span class="toc-text">步驟16</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F17"><span class="toc-number">20.</span> <span class="toc-text">步驟17</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F18"><span class="toc-number">21.</span> <span class="toc-text">步驟18</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F20"><span class="toc-number">22.</span> <span class="toc-text">步驟20</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%A9%9F21"><span class="toc-number">23.</span> <span class="toc-text">步驟21</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/30/Udemy-The-Complete-Javascript-Course-ch1-Getting-Started/" title="Udemy The Complete JavaScript Course ch1 fundamentals"><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy The Complete JavaScript Course ch1 fundamentals"/></a><div class="content"><a class="title" href="/2022/06/30/Udemy-The-Complete-Javascript-Course-ch1-Getting-Started/" title="Udemy The Complete JavaScript Course ch1 fundamentals">Udemy The Complete JavaScript Course ch1 fundamentals</a><time datetime="2022-06-30T11:08:52.000Z" title="Created 2022-06-30 19:08:52">2022-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/30/Udemy-React-TheCompleteGuide-ch19-Advanced-Redux/" title="Udemy-React-TheCompleteGuide ch19 Advanced Redux "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch19 Advanced Redux "/></a><div class="content"><a class="title" href="/2022/06/30/Udemy-React-TheCompleteGuide-ch19-Advanced-Redux/" title="Udemy-React-TheCompleteGuide ch19 Advanced Redux ">Udemy-React-TheCompleteGuide ch19 Advanced Redux </a><time datetime="2022-06-30T08:26:55.000Z" title="Created 2022-06-30 16:26:55">2022-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/28/Udemy-React-TheCompleteGuide-ch18-Redux/" title="Udemy-React-TheCompleteGuide ch18 Redux "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch18 Redux "/></a><div class="content"><a class="title" href="/2022/06/28/Udemy-React-TheCompleteGuide-ch18-Redux/" title="Udemy-React-TheCompleteGuide ch18 Redux ">Udemy-React-TheCompleteGuide ch18 Redux </a><time datetime="2022-06-28T11:32:55.000Z" title="Created 2022-06-28 19:32:55">2022-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/25/Udemy-React-TheCompleteGuide-ch17-Exercise-Http-Forms/" title="Udemy-React-TheCompleteGuide ch17 Exercise-Http-Forms "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch17 Exercise-Http-Forms "/></a><div class="content"><a class="title" href="/2022/06/25/Udemy-React-TheCompleteGuide-ch17-Exercise-Http-Forms/" title="Udemy-React-TheCompleteGuide ch17 Exercise-Http-Forms ">Udemy-React-TheCompleteGuide ch17 Exercise-Http-Forms </a><time datetime="2022-06-25T08:32:55.000Z" title="Created 2022-06-25 16:32:55">2022-06-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/23/Udemy-React-TheCompleteGuide-ch16-Working-With-Forms-List/" title="Udemy-React-TheCompleteGuide ch16 Working With Forms and List "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch16 Working With Forms and List "/></a><div class="content"><a class="title" href="/2022/06/23/Udemy-React-TheCompleteGuide-ch16-Working-With-Forms-List/" title="Udemy-React-TheCompleteGuide ch16 Working With Forms and List ">Udemy-React-TheCompleteGuide ch16 Working With Forms and List </a><time datetime="2022-06-23T10:29:55.000Z" title="Created 2022-06-23 18:29:55">2022-06-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Jeremy</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>