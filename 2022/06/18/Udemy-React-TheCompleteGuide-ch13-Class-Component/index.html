<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Udemy-React-TheCompleteGuide ch13 Class Component | Jeremy's Blog</title><meta name="author" content="Jeremy"><meta name="copyright" content="Jeremy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="為什麼使用以class為基底的componentFunctional Component 1234const Product &#x3D;props&#x3D;&gt;&amp;#123;return&lt;h2&gt;Hello World&lt;&#x2F;h2&gt;    &amp;#125;return default Product  Class-base Component 12345class Product extends">
<meta property="og:type" content="article">
<meta property="og:title" content="Udemy-React-TheCompleteGuide ch13 Class Component">
<meta property="og:url" content="https://razieldu.github.io/2022/06/18/Udemy-React-TheCompleteGuide-ch13-Class-Component/index.html">
<meta property="og:site_name" content="Jeremy&#39;s Blog">
<meta property="og:description" content="為什麼使用以class為基底的componentFunctional Component 1234const Product &#x3D;props&#x3D;&gt;&amp;#123;return&lt;h2&gt;Hello World&lt;&#x2F;h2&gt;    &amp;#125;return default Product  Class-base Component 12345class Product extends">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg">
<meta property="article:published_time" content="2022-06-18T07:38:55.000Z">
<meta property="article:modified_time" content="2022-06-19T07:24:47.477Z">
<meta property="article:author" content="Jeremy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://razieldu.github.io/2022/06/18/Udemy-React-TheCompleteGuide-ch13-Class-Component/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Udemy-React-TheCompleteGuide ch13 Class Component',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-19 15:24:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Jeremy's Blog</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Udemy-React-TheCompleteGuide ch13 Class Component</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-06-18T07:38:55.000Z" title="Created 2022-06-18 15:38:55">2022-06-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-06-19T07:24:47.477Z" title="Updated 2022-06-19 15:24:47">2022-06-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/React/">React</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Udemy-React-TheCompleteGuide ch13 Class Component"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="為什麼使用以class為基底的component"><a href="#為什麼使用以class為基底的component" class="headerlink" title="為什麼使用以class為基底的component"></a>為什麼使用以class為基底的component</h3><p><strong>Functional Component</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const Product =props=&gt;&#123;</span><br><span class="line">return&lt;h2&gt;Hello World&lt;/h2&gt;    </span><br><span class="line">&#125;</span><br><span class="line">return default Product</span><br></pre></td></tr></table></figure>

<p><strong>Class-base Component</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Product extends Component&#123;</span><br><span class="line">render()&#123;</span><br><span class="line">return&lt;h2&gt;Hello&lt;/h2&gt;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>無法在Class-base component 使用react hook</li>
<li>可以跟functional component同時使用</li>
</ol>
<h3 id="Adding-a-First-Class-based-Component"><a href="#Adding-a-First-Class-based-Component" class="headerlink" title="Adding a First Class-based Component"></a>Adding a First Class-based Component</h3><p><strong>User.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &quot;react&quot;; ////導入</span><br><span class="line">import classes from &#x27;./User.module.css&#x27;;</span><br><span class="line"></span><br><span class="line">class User extends Component&#123;  ///導入</span><br><span class="line"></span><br><span class="line">render()&#123;</span><br><span class="line">  return &lt;li className=&#123;classes.user&#125;&gt;&#123;this.props.name&#125;&lt;/li&gt;; ///使用this</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default User;</span><br></pre></td></tr></table></figure>


<h3 id="Working-with-State-amp-Events"><a href="#Working-with-State-amp-Events" class="headerlink" title="Working with State &amp; Events"></a>Working with State &amp; Events</h3><p><strong>Users.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Component &#125; from &quot;react&quot;; /////導入Component</span><br><span class="line">import User from &quot;./User&quot;;</span><br><span class="line"></span><br><span class="line">import classes from &quot;./Users.module.css&quot;;</span><br><span class="line"></span><br><span class="line">const DUMMY_USERS = [</span><br><span class="line">  &#123; id: &quot;u1&quot;, name: &quot;Max&quot; &#125;,</span><br><span class="line">  &#123; id: &quot;u2&quot;, name: &quot;Manuel&quot; &#125;,</span><br><span class="line">  &#123; id: &quot;u3&quot;, name: &quot;Julie&quot; &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">class Users extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super()  ////這是必要的</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      /////class-based component 之state一定要是object,state這個名稱也是必須的</span><br><span class="line">      showUsers: true,</span><br><span class="line">      more: &quot;test&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toggleUsersHandler() &#123;</span><br><span class="line">    this.setState((curState) =&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        showUsers: !curState.showUsers, ///會合併所有狀態,沒有被更動的state也不會消失</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const usersList = (</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &#123;DUMMY_USERS.map((user) =&gt; (</span><br><span class="line">          &lt;User key=&#123;user.id&#125; name=&#123;user.name&#125; /&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&#123;classes.users&#125;&gt;</span><br><span class="line">        &lt;button onClick=&#123;this.toggleUsersHandler.bind(this)&#125;&gt;  </span><br><span class="line">          &#123;this.state.showUsers ? &quot;Hide&quot; : &quot;Show&quot;&#125; Users</span><br><span class="line">        &lt;/button&gt;</span><br><span class="line">        &#123;this.state.showUsers &amp;&amp; usersList&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Users;</span><br></pre></td></tr></table></figure>
<p> &#x2F;&#x2F;&#x2F;使用bind來綁定,we have to make sure this keyword inside of the method(toggleUsersHandler) refers to the surrounding class and it wouldn’t by default when your method is called upon any event like click,使用bind,which simply means that this keyword inside of this method here is now set to have the same context or the same value as this keyword when this code is evaluated and here this keyword will refer to this class</p>
<h3 id="The-Component-Lifecycle-Class-based-Components-Only"><a href="#The-Component-Lifecycle-Class-based-Components-Only" class="headerlink" title="The Component Lifecycle (Class-based Components Only!)"></a>The Component Lifecycle (Class-based Components Only!)</h3><p><strong>componentDidMount()</strong> </p>
<p>Called once component mounted (was evaluated &amp; rendered)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useEffect(()=&gt;&#123;&#125;,[])使用空array的useEffect</span><br></pre></td></tr></table></figure>
<p><strong>componentDidUpdate()</strong></p>
<p>Called once component updated (was evaluated &amp; rendered)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useEffect(()=&gt;&#123;&#125;,[somevalue])</span><br></pre></td></tr></table></figure>
<p><strong>componentWillUnmount()</strong></p>
<p>Called right before component is unmounted(remove from DOM)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(()=&gt;&#123;</span><br><span class="line">return ()=&gt;&#123;&#125;</span><br><span class="line">&#125;,[])</span><br></pre></td></tr></table></figure>

<h3 id="Lifecycle-Methods-In-Action"><a href="#Lifecycle-Methods-In-Action" class="headerlink" title="Lifecycle Methods In Action"></a>Lifecycle Methods In Action</h3><p>Finduser.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">import &#123; render &#125; from &quot;@testing-library/react&quot;;</span><br><span class="line">import &#123; Fragment, useState, useEffect, Component &#125; from &quot;react&quot;; ///導入component</span><br><span class="line">import classes from &quot;./UserFinder.module.css&quot;;</span><br><span class="line">import Users from &quot;./Users&quot;;</span><br><span class="line"></span><br><span class="line">const DUMMY_USERS = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: &quot;u1&quot;,</span><br><span class="line">    name: &quot;max&quot;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; id: &quot;u2&quot;, name: &quot;jeremy&quot; &#125;,</span><br><span class="line">  &#123; id: &quot;u3&quot;, name: &quot;lorie&quot; &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">class UserFinder extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      filteredUsers: DUMMY_USERS,</span><br><span class="line">      searchTerm: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState) &#123;</span><br><span class="line">    if (prevState.searchTerm !== this.state.searchTerm) &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        filteredUsers: DUMMY_USERS.filter((user) =&gt;</span><br><span class="line">          user.name.includes(this.state.searchTerm)</span><br><span class="line">        ),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  searchChangeHandler(event) &#123;</span><br><span class="line">    this.setState(&#123; searchTerm: event.target.value &#125;); </span><br><span class="line">    ////state更新之後會被自動更新整合,兩個state在一個object</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;div className=&#123;classes.finder&#125;&gt;</span><br><span class="line">          &lt;input type=&quot;search&quot; onChange=&#123;this.searchChangeHandler.bind(this)&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;Users users=&#123;this.state.filteredUsers&#125; /&gt;</span><br><span class="line">      &lt;/Fragment&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default UserFinder;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>其餘生命週期函數示例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">import &#123; render &#125; from &quot;@testing-library/react&quot;;</span><br><span class="line">import &#123; Fragment, useState, useEffect, Component &#125; from &quot;react&quot;; ///導入component</span><br><span class="line">import classes from &quot;./UserFinder.module.css&quot;;</span><br><span class="line">import Users from &quot;./Users&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">///////////資料庫內的資料(假設)//////////</span><br><span class="line">const DUMMY_USERS = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: &quot;u1&quot;,</span><br><span class="line">    name: &quot;max&quot;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; id: &quot;u2&quot;, name: &quot;jeremy&quot; &#125;,</span><br><span class="line">  &#123; id: &quot;u3&quot;, name: &quot;lorie&quot; &#125;,</span><br><span class="line">];</span><br><span class="line">//////////////////////////////////</span><br><span class="line"></span><br><span class="line">class UserFinder extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      filteredUsers: [], ////初始狀態為一個空的array,因為我們要向資料庫取資料</span><br><span class="line">      searchTerm: &quot;&quot;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount()&#123;  ////假設我們今天要先從資料庫提取資料,只會運作一次</span><br><span class="line">  /////Send http request here</span><br><span class="line">  this.setState(&#123;filterUsers:DUMMY_USERS&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState) &#123;</span><br><span class="line">    if (prevState.searchTerm !== this.state.searchTerm) &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        filteredUsers: DUMMY_USERS.filter((user) =&gt;</span><br><span class="line">          user.name.includes(this.state.searchTerm)</span><br><span class="line">        ),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  searchChangeHandler(event) &#123;</span><br><span class="line">    this.setState(&#123; searchTerm: event.target.value &#125;); ////state更新之後會被自動更新整合,兩個state在一個object</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;div className=&#123;classes.finder&#125;&gt;</span><br><span class="line">          &lt;input type=&quot;search&quot; onChange=&#123;this.searchChangeHandler.bind(this)&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;Users users=&#123;this.state.filteredUsers&#125; /&gt;</span><br><span class="line">      &lt;/Fragment&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default UserFinder;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>User.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">import classes from &#x27;./User.module.css&#x27;;</span><br><span class="line"></span><br><span class="line">class User extends Component&#123;</span><br><span class="line">  componentWillUnmount()&#123;</span><br><span class="line">    console.log(&quot;UNMOUNT&quot;)   </span><br><span class="line">    ///打開開發人員頁面,點擊按鈕隱藏user資料,點擊一次會執行三次,因為我們把三個user物件從realDOM上面移除</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">render()&#123;</span><br><span class="line">  return &lt;li className=&#123;classes.user&#125;&gt;&#123;this.props.name&#125;&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default User;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Class-based-Components-amp-Context"><a href="#Class-based-Components-amp-Context" class="headerlink" title="Class-based Components &amp; Context"></a>Class-based Components &amp; Context</h3><p><strong>user-context.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line"></span><br><span class="line">const UsersContext = React.createContext(&#123;</span><br><span class="line">  users: []</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default UsersContext;</span><br></pre></td></tr></table></figure>

<p><strong>app.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import UserFinder from &#x27;./components/UserFinder&#x27;;</span><br><span class="line">import UsersContext from &#x27;./store/users-context&#x27;;</span><br><span class="line"></span><br><span class="line">const DUMMY_USERS = [</span><br><span class="line">  &#123; id: &#x27;u1&#x27;, name: &#x27;Max&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;u2&#x27;, name: &#x27;Manuel&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;u3&#x27;, name: &#x27;Julie&#x27; &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function App() &#123; </span><br><span class="line">  const usersContext = &#123; ///設定資料</span><br><span class="line">    users: DUMMY_USERS</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;UsersContext.Provider value=&#123;usersContext&#125;&gt;///把設定資料導入</span><br><span class="line">      &lt;UserFinder /&gt;</span><br><span class="line">    &lt;/UsersContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<p><strong>UserFinder.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">import &#123; render &#125; from &quot;@testing-library/react&quot;;</span><br><span class="line">import &#123; Fragment, useState, useEffect, Component &#125; from &quot;react&quot;; ///導入component</span><br><span class="line">import UsersContext from &quot;../store/users-context&quot;;</span><br><span class="line">import classes from &quot;./UserFinder.module.css&quot;;</span><br><span class="line">import Users from &quot;./Users&quot;;</span><br><span class="line"></span><br><span class="line">class UserFinder extends Component &#123;</span><br><span class="line">  static contextType = UsersContext; ////一個class-component綁定一個context!!!!////</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      filteredUsers: [],</span><br><span class="line">      searchTerm: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    this.setState(&#123; filteredUsers: this.context.users &#125;); ////修改</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState) &#123;</span><br><span class="line">    if (prevState.searchTerm !== this.state.searchTerm) &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        filteredUsers: this.context.users.filter((user) =&gt;</span><br><span class="line">          user.name.includes(this.state.searchTerm)</span><br><span class="line">        ),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  searchChangeHandler(event) &#123;</span><br><span class="line">    this.setState(&#123; searchTerm: event.target.value &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;div className=&#123;classes.finder&#125;&gt;</span><br><span class="line">          &lt;input type=&quot;search&quot; onChange=&#123;this.searchChangeHandler.bind(this)&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;Users users=&#123;this.state.filteredUsers&#125; /&gt;</span><br><span class="line">      &lt;/Fragment&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default UserFinder;</span><br></pre></td></tr></table></figure>

<p><strong>Users.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &quot;react&quot;; /////導入Component</span><br><span class="line">import User from &quot;./User&quot;;</span><br><span class="line"></span><br><span class="line">import classes from &quot;./Users.module.css&quot;;</span><br><span class="line"></span><br><span class="line">class Users extends Component &#123;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super(); ////這是必要的</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      /////class-based component 之state一定要是object,state這個名稱也是必須的</span><br><span class="line">      showUsers: true,</span><br><span class="line">      more: &quot;test&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toggleUsersHandler() &#123;</span><br><span class="line">   </span><br><span class="line">    this.setState((curState) =&gt; &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        showUsers: !curState.showUsers, ///會合併所有狀態,沒有被更動的state也不會消失</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const usersList = (</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &#123;this.props.users.map((user) =&gt; (</span><br><span class="line">          &lt;User key=&#123;user.id&#125; name=&#123;user.name&#125; /&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&#123;classes.users&#125;&gt;</span><br><span class="line">        &lt;button onClick=&#123;this.toggleUsersHandler.bind(this)&#125;&gt;</span><br><span class="line">          &#123;this.state.showUsers ? &quot;Hide&quot; : &quot;Show&quot;&#125; Users</span><br><span class="line">        &lt;/button&gt;</span><br><span class="line">        &#123;this.state.showUsers &amp;&amp; usersList&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default Users;</span><br></pre></td></tr></table></figure>

<p><strong>User.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">import classes from &#x27;./User.module.css&#x27;;</span><br><span class="line"></span><br><span class="line">class User extends Component&#123;</span><br><span class="line">  componentWillUnmount()&#123;</span><br><span class="line">    console.log(&quot;UNMOUNT&quot;)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">render()&#123;</span><br><span class="line">  return &lt;li className=&#123;classes.user&#125;&gt;&#123;this.props.name&#125;&lt;/li&gt;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default User;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Class-based-vs-Functional-Components-A-Summary"><a href="#Class-based-vs-Functional-Components-A-Summary" class="headerlink" title="Class-based vs Functional Components: A Summary"></a>Class-based vs Functional Components: A Summary</h3><p>Functional component 相對的還是比較彈性,或是使用error boundries才會使用到</p>
<h3 id="Introducing-Error-Boundaries"><a href="#Introducing-Error-Boundaries" class="headerlink" title="Introducing Error Boundaries"></a>Introducing Error Boundaries</h3><p><strong>ErrorBoundry.js</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">class ErrorBoundry extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      hasError: false,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  componentDidCatch(error) &#123;</span><br><span class="line">    ////會被觸發,只要有一個子層component throw error</span><br><span class="line"></span><br><span class="line">    this.setState(&#123; hasError: true &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    if (this.state.hasError) &#123;</span><br><span class="line">      return &lt;p&gt;Something went wrong!!!&lt;/p&gt;; ///在主頁面出現提示訊息</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return this.props.children;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default ErrorBoundry;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>FindUser.js(使用ErrorBoundry)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">import &#123; render &#125; from &quot;@testing-library/react&quot;;</span><br><span class="line">import &#123; Fragment, useState, useEffect, Component &#125; from &quot;react&quot;; ///導入component</span><br><span class="line">import UsersContext from &quot;../store/users-context&quot;;</span><br><span class="line">import ErrorBoundry from &quot;./ErrorBoundry&quot; ////導入</span><br><span class="line">import classes from &quot;./UserFinder.module.css&quot;;</span><br><span class="line">import Users from &quot;./Users&quot;;</span><br><span class="line"></span><br><span class="line">class UserFinder extends Component &#123;</span><br><span class="line">  static contextType = UsersContext; ////一個class-component綁定一個context</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      filteredUsers: [],</span><br><span class="line">      searchTerm: &quot;&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    this.setState(&#123; filteredUsers: this.context.users &#125;); ////修改</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState) &#123;</span><br><span class="line">    if (prevState.searchTerm !== this.state.searchTerm) &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        filteredUsers: this.context.users.filter((user) =&gt;</span><br><span class="line">          user.name.includes(this.state.searchTerm)</span><br><span class="line">        ),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  searchChangeHandler(event) &#123;</span><br><span class="line">    this.setState(&#123; searchTerm: event.target.value &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;div className=&#123;classes.finder&#125;&gt;</span><br><span class="line">          &lt;input type=&quot;search&quot; onChange=&#123;this.searchChangeHandler.bind(this)&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;ErrorBoundry&gt;////包起來</span><br><span class="line">        &lt;Users users=&#123;this.state.filteredUsers&#125; /&gt;</span><br><span class="line">        &lt;/ErrorBoundry&gt; ////包起來</span><br><span class="line">      &lt;/Fragment&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default UserFinder;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://razieldu.github.io">Jeremy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://razieldu.github.io/2022/06/18/Udemy-React-TheCompleteGuide-ch13-Class-Component/">https://razieldu.github.io/2022/06/18/Udemy-React-TheCompleteGuide-ch13-Class-Component/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/06/19/Udemy-React-TheCompleteGuide-ch14-Sending-HTTP-request/"><img class="prev-cover" src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Udemy-React-TheCompleteGuide ch14 Sending HTTP request </div></div></a></div><div class="next-post pull-right"><a href="/2022/06/16/Udemy-React-TheCompleteGuide-ch12-A-Look-Behind-The-Scene-Of-React/"><img class="next-cover" src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Udemy React TheCompleteGuide ch12 Look Behind The Scene of React</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jeremy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Razieldu"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%BA%E4%BB%80%E9%BA%BC%E4%BD%BF%E7%94%A8%E4%BB%A5class%E7%82%BA%E5%9F%BA%E5%BA%95%E7%9A%84component"><span class="toc-number">1.</span> <span class="toc-text">為什麼使用以class為基底的component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Adding-a-First-Class-based-Component"><span class="toc-number">2.</span> <span class="toc-text">Adding a First Class-based Component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Working-with-State-amp-Events"><span class="toc-number">3.</span> <span class="toc-text">Working with State &amp; Events</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Component-Lifecycle-Class-based-Components-Only"><span class="toc-number">4.</span> <span class="toc-text">The Component Lifecycle (Class-based Components Only!)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifecycle-Methods-In-Action"><span class="toc-number">5.</span> <span class="toc-text">Lifecycle Methods In Action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Class-based-Components-amp-Context"><span class="toc-number">6.</span> <span class="toc-text">Class-based Components &amp; Context</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Class-based-vs-Functional-Components-A-Summary"><span class="toc-number">7.</span> <span class="toc-text">Class-based vs Functional Components: A Summary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Introducing-Error-Boundaries"><span class="toc-number">8.</span> <span class="toc-text">Introducing Error Boundaries</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/15/Udemy-React-TheCompleteGuide-ch22-React-Authentication/" title="Udemy-React-TheCompleteGuide ch22 React Authenticaton  "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch22 React Authenticaton  "/></a><div class="content"><a class="title" href="/2022/07/15/Udemy-React-TheCompleteGuide-ch22-React-Authentication/" title="Udemy-React-TheCompleteGuide ch22 React Authenticaton  ">Udemy-React-TheCompleteGuide ch22 React Authenticaton  </a><time datetime="2022-07-15T07:47:55.000Z" title="Created 2022-07-15 15:47:55">2022-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/14/Udemy-React-TheCompleteGuide-ch21-React-Deploy/" title="Udemy-React-TheCompleteGuide ch21 Deploy React App with Firebase  "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch21 Deploy React App with Firebase  "/></a><div class="content"><a class="title" href="/2022/07/14/Udemy-React-TheCompleteGuide-ch21-React-Deploy/" title="Udemy-React-TheCompleteGuide ch21 Deploy React App with Firebase  ">Udemy-React-TheCompleteGuide ch21 Deploy React App with Firebase  </a><time datetime="2022-07-14T05:39:55.000Z" title="Created 2022-07-14 13:39:55">2022-07-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/06/Udemy-React-TheCompleteGuide-ch20-React-Router/" title="Udemy-React-TheCompleteGuide ch20 Muti Page SPA with React Router "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch20 Muti Page SPA with React Router "/></a><div class="content"><a class="title" href="/2022/07/06/Udemy-React-TheCompleteGuide-ch20-React-Router/" title="Udemy-React-TheCompleteGuide ch20 Muti Page SPA with React Router ">Udemy-React-TheCompleteGuide ch20 Muti Page SPA with React Router </a><time datetime="2022-07-06T11:28:55.000Z" title="Created 2022-07-06 19:28:55">2022-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/30/Udemy-The-Complete-Javascript-Course-ch1-Getting-Started/" title="Udemy The Complete JavaScript Course ch1 fundamentals"><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy The Complete JavaScript Course ch1 fundamentals"/></a><div class="content"><a class="title" href="/2022/06/30/Udemy-The-Complete-Javascript-Course-ch1-Getting-Started/" title="Udemy The Complete JavaScript Course ch1 fundamentals">Udemy The Complete JavaScript Course ch1 fundamentals</a><time datetime="2022-06-30T11:08:52.000Z" title="Created 2022-06-30 19:08:52">2022-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/30/Udemy-React-TheCompleteGuide-ch19-Advanced-Redux/" title="Udemy-React-TheCompleteGuide ch19 Advanced Redux "><img src="https://github.com/Razieldu/BLOG-IMG/raw/main/%E9%83%A8%E8%90%BD%E6%A0%BC%E5%9C%96%E7%89%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Udemy-React-TheCompleteGuide ch19 Advanced Redux "/></a><div class="content"><a class="title" href="/2022/06/30/Udemy-React-TheCompleteGuide-ch19-Advanced-Redux/" title="Udemy-React-TheCompleteGuide ch19 Advanced Redux ">Udemy-React-TheCompleteGuide ch19 Advanced Redux </a><time datetime="2022-06-30T08:26:55.000Z" title="Created 2022-06-30 16:26:55">2022-06-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Jeremy</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>